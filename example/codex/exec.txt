➜  hookcode git:(main) ✗ codex exec "分析一下项目的结构,不要修改代码,只评估一下任务延迟执行的可能性" --sandbox 'workspace-write' --full-auto --color=never  --add-dir ./.git/ -c 'sandbox_workspace_write.network_access=true' --output-last-message 'codex-output.txt'
OpenAI Codex v0.86.0 (research preview)
--------
workdir: /Users/gaoruicheng/Documents/Github/hookvibe/hookcode
model: gpt-5.2
provider: right
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR, /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/.git] (network access enabled)
reasoning effort: xhigh
reasoning summaries: auto
session id: 019bde9e-59d3-74e3-868b-1d9ef9c63b76
--------
user
分析一下项目的结构,不要修改代码,只评估一下任务延迟执行的可能性
mcp startup: no servers




thinking
**Evaluating documentation procedures**

I’m considering that the user might not want any modifications based on their request that says not to modify the code. They only mentioned code, so maybe they want to keep everything as is. I think I can comply by avoiding code changes and just focusing on creating session documentation in the appropriate folder. While they indicated no modifications, making documentation seems acceptable. I’ll create a new session folder to document our plan, findings, and progress.
thinking
**Exploring project structure**

I can create a plan in the documentation without necessarily using the update_plan tool, though it might be helpful to show it to the user. The AGENTS mention a "planning-with-files workflow," which I’ll adhere to. I need to analyze the project layout, looking at the front and back ends, queues, and possibly BullMQ, Bull, or Redis. I’ll run commands like `ls`, `tree`, and `find`, and review files like package.json and docker compose. I'll focus on how tasks are processed and their scheduling capabilities. No need for dev commands; a simple inspection will suffice.
thinking
**Assessing task execution possibilities**

I plan to run shell commands like `ls` and `find` to explore the directories. I’ll use `rg` to look for queue libraries such as "bull," "bee-queue," and others. I'll analyze the backend architecture, focusing on the webhook receiver and workers to see if tasks are processed asynchronously. Since the user specifically asked to evaluate the possibility of delayed execution, I’ll check if the system supports scheduling tasks for the future or retries. I’ll propose a design without modifying the code, and since this involves multiple steps, I'll create a simple plan.
thinking
**Initializing session and planning**

I'll use the update_plan tool to track progress and adhere to the planning-with-files instructions. I need to initiate a session via a script and fill in the documentation appropriately. First, I’ll check if a session hash exists in our conversation—but there isn't one, so I’ll start fresh. The instructions mention generating a hash automatically and it suggests using a command. I think I'll let the script create the hash without needing any approval. Let’s run the script!
exec
/bin/zsh -lc 'bash .codex/skills/planning-with-files/scripts/init-session.sh "" "评估任务延迟执行可行性"' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 288ms:
Initializing planning files for session: 80f8nubdsqd476btx0sp
Using templates from: /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/.codex/skills/planning-with-files/templates
Planning directory: /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp
Created /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
Created /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
Created /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md

Planning files initialized!
Files: /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md, /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md, /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
Tip: Keep using the session hash in inline code comments for traceability: 80f8nubdsqd476btx0sp

thinking
**Creating a plan for updates**

I'm considering if there could be additional AGENTS in the subdirectories, but I think we’ll stick to our current plan and not modify that code. Now, I need to create a task plan. I’ll apply a patch to edit the documentation. Before I do that, I should view the template content to make necessary updates. I can use a shell command to read the files, and I plan to parallelize the reading with a specific tool.
exec
/bin/zsh -lc 'ls -la' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 96ms:
total 1104
drwxr-xr-x@ 25 gaoruicheng  staff     800  1月 20 21:21 .
drwxr-xr-x   6 gaoruicheng  staff     192  1月 15 15:22 ..
drwxr-xr-x   3 gaoruicheng  staff      96  1月 14 01:11 .claude
drwxr-xr-x   3 gaoruicheng  staff      96  1月 13 23:53 .codex
-rw-r--r--   1 gaoruicheng  staff     277  1月 14 01:11 .dockerignore
-rw-r--r--@  1 gaoruicheng  staff    8196  1月 16 23:31 .DS_Store
drwxr-xr-x  14 gaoruicheng  staff     448  1月 21 11:34 .git
drwxr-xr-x   5 gaoruicheng  staff     160  1月 14 11:23 .github
-rw-r--r--   1 gaoruicheng  staff     231  1月 20 21:21 .gitignore
drwxr-xr-x   3 gaoruicheng  staff      96  1月 13 23:53 .vscode
-rw-r--r--   1 gaoruicheng  staff    8046  1月 20 01:42 AGENTS.md
drwxr-xr-x  18 gaoruicheng  staff     576  1月 17 11:22 backend
drwxr-xr-x   7 gaoruicheng  staff     224  1月 17 11:22 docker
drwxr-xr-x   6 gaoruicheng  staff     192  1月 17 11:22 docs
drwxr-xr-x  15 gaoruicheng  staff     480  1月 20 01:42 frontend
drwxr-xr-x  37 gaoruicheng  staff    1184  1月 20 21:21 happy
-rw-r--r--   1 gaoruicheng  staff    1079  1月 14 01:11 LICENSE
drwxr-xr-x   6 gaoruicheng  staff     192  1月 14 01:11 logo
drwxr-xr-x@  9 gaoruicheng  staff     288  1月 20 11:24 node_modules
exec
/bin/zsh -lc "sed -n '1,200p' docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 83ms:
# Task Plan: 评估任务延迟执行可行性
<!-- 
  WHAT: This is your roadmap for the entire task. Think of it as your "working memory on disk."
  WHY: After 50+ tool calls, your original goals can get forgotten. This file keeps them fresh.
  WHEN: Create this FIRST, before starting any work. Update after each phase completes.
-->

<!-- Track code changes with this session hash for traceability. 80f8nubdsqd476btx0sp -->

## Session Metadata
<!-- 
  WHAT: Stable identifiers for traceability (code comments ↔ plan folder).
  WHY: Makes it easy to find the plan that explains a change.
-->
- **Session Hash:** 80f8nubdsqd476btx0sp
- **Created:** 2026-01-21

## Goal
<!-- 
  WHAT: One clear sentence describing what you're trying to achieve.
exec
/bin/zsh -lc "sed -n '1,200p' docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 82ms:
# Findings & Decisions: 评估任务延迟执行可行性
<!-- 
  WHAT: Your knowledge base for the task. Stores everything you discover and decide.
  WHY: Context windows are limited. This file is your "external memory" - persistent and unlimited.
  WHEN: Update after ANY discovery, especially after 2 view/browser/search operations (2-Action Rule).
-->

<!-- Link discoveries to code changes via this session hash. 80f8nubdsqd476btx0sp -->

## Session Metadata
- **Session Hash:** 80f8nubdsqd476btx0sp
- **Created:** 2026-01-21

## Requirements
<!-- 
  WHAT: What the user asked for, broken down into specific requirements.
  WHY: Keeps requirements visible so you don't forget what you're building.
  WHEN: Fill this in during Phase 1 (Requirements & Discovery).
  EXAMPLE:
    - Command-line interface
exec
/bin/zsh -lc "sed -n '1,200p' docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 97ms:
# Progress Log
<!-- 
  WHAT: Your session log - a chronological record of what you did, when, and what happened.
  WHY: Answers "What have I done?" in the 5-Question Reboot Test. Helps you resume after breaks.
  WHEN: Update after completing each phase or encountering errors. More detailed than task_plan.md.
-->

<!-- Keep phase status updates in sync with task_plan.md for this session. 80f8nubdsqd476btx0sp -->

## Session Metadata
- **Session Title:** 评估任务延迟执行可行性
- **Session Hash:** 80f8nubdsqd476btx0sp

## Session: 2026-01-21
<!-- 
  WHAT: The date of this work session.
  WHY: Helps track when work happened, useful for resuming after time gaps.
  EXAMPLE: 2026-01-15
-->

Plan update
开始在不修改业务代码的前提下，梳理仓库结构并评估任务“延迟执行/定时执行”的实现空间。
  → 扫描仓库目录结构
  • 定位队列与 Worker 代码
  • 评估延迟执行可行性
  • 记录发现并交付结论




thinking
**Updating documentation plan**

I'm in the process of updating the plan documentation. I’ll use apply_patch to fill in the necessary details. Since it's in Markdown, I can incorporate HTML comments, including the required session hash comment for traceability. 

I've noticed the instructions indicate that each changed area should have a one-sentence English inline comment ending with a hash. It might be best to also include a comment at the top summarizing the modifications. But I'm thinking every changed area should still have its own comment.
thinking
**Updating documentation comments**

I'm planning to change many sections in the documentation, and I think it might be safer to add an English HTML comment near each updated section like Goal and Key Questions. But since we might update the entire file, perhaps a comment at the top could suffice. 

As for the content, the goal sentence will be: "Assess whether existing async task processing supports delayed execution and identify required changes if not." I believe keeping everything in English makes sense to match the path docs/en. Mixing languages might create confusion, so I’ll stick to English.
thinking
**Structuring the documentation**

I'm planning to keep our analysis in English, even though the user responses are in Chinese. The instructions clarify that the plan docs don't need to be in Chinese, just the new environment example comments, while edited code comments and console output should remain in English. 

I’ll add an English comment with the session hash as required and set phases: Phase 1 for discovery, Phase 2 for analysis, and Phase 3 for delivery. We can remove Implementation or mark it as not applicable. I’ll include checkboxes for tasks and focus on key questions about queue mechanisms, support for scheduling, persistence, and idempotency. Decisions will likely wait until after the analysis.
thinking
**Updating documentation files**

In findings.md, the user asked me to analyze the structure and evaluate delayed tasks without making code changes. I’ll start by filling in the requirements and my initial assumptions based on my research findings.

For progress.md, I’ll add a timestamp for the start of Phase 1 and detail actions like initializing the session and listing the root. I’ll make modifications to the plan docs and then update them with initial information, leaving placeholders to fill in discoveries as we progress.
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -23,3 +23,3 @@
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
@@ -44,5 +44,6 @@
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
@@ -55,3 +56,3 @@
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
@@ -60,8 +61,8 @@
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
@@ -70,8 +71,8 @@
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
@@ -80,8 +81,6 @@
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
@@ -90,5 +89,3 @@
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
@@ -103,4 +100,6 @@
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 25ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating task plan**

I’ve updated the task plan, but I noticed that we left Phases 4 and 5 pending. Perhaps I should consider marking them as complete or removing them, but that can wait for now. For the moment, I’ll focus on patching findings.md with the initial requirements instead. It seems prioritizing this will help keep things organized. Let's go through these steps methodically for clarity!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -26,3 +26,4 @@
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
@@ -39,3 +40,3 @@
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
@@ -78,3 +79,4 @@
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 41ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Patching progress logging**

I need to update progress.md to log when a session starts. Getting a timestamp is essential; it seems like the current date and time on Jan 21, 2026, would work. I can pull the actual time from the system by using the `date` command. So, I’ll run `date` through the shell to capture that information accurately, ensuring everything's tracked correctly moving forward!
exec
/bin/zsh -lc "date '+%Y-%m-%d %H:%M:%S %z'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 88ms:
2026-01-21 11:36:31 +0800
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -20,3 +20,3 @@
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
@@ -27,3 +27,3 @@
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
@@ -40,3 +40,4 @@
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
@@ -50,3 +51,4 @@
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 51ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Analyzing project structure**

I’m starting to analyze the repo's structure, which has directories like backend, frontend, docs, docker, and something called "happy." I should check each directory to locate the queue and worker code. I might use the `find` command, but `ls` for the backend could also work. Maybe I’ll just do `ls backend` to see what's there, and I can search for keywords using `rg`. I’ll follow the 2-action rule and update findings after two file views, but I think I can proceed now.
exec
/bin/zsh -lc 'ls -la backend' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 84ms:
total 128
drwxr-xr-x  18 gaoruicheng  staff    576  1月 17 11:22 .
drwxr-xr-x@ 25 gaoruicheng  staff    800  1月 20 21:21 ..
-rw-r--r--   1 gaoruicheng  staff     37  1月 14 01:11 .dockerignore
-rw-r--r--   1 gaoruicheng  staff  12196  1月 19 22:56 .env
-rw-r--r--   1 gaoruicheng  staff  13403  1月 17 11:22 .env.example
-rw-r--r--   1 gaoruicheng  staff    549  1月 14 01:11 AGENTS.md
drwxr-xr-x  23 gaoruicheng  staff    736  1月 15 12:06 dist
-rw-r--r--   1 gaoruicheng  staff   1194  1月 14 01:11 Dockerfile
-rw-r--r--   1 gaoruicheng  staff    357  1月 14 01:11 jest.config.cjs
-rw-r--r--   1 gaoruicheng  staff    364  1月 14 01:11 jest.integration.config.cjs
-rw-r--r--   1 gaoruicheng  staff    118  1月 14 01:11 nest-cli.json
drwxr-xr-x  25 gaoruicheng  staff    800  1月 13 23:53 node_modules
-rw-r--r--   1 gaoruicheng  staff   2599  1月 15 14:31 package.json
drwxr-xr-x   4 gaoruicheng  staff    128  1月 15 14:31 prisma
drwxr-xr-x   3 gaoruicheng  staff     96  1月 14 01:11 scripts
drwxr-xr-x  20 gaoruicheng  staff    640  1月 20 01:42 src
-rw-r--r--   1 gaoruicheng  staff     94  1月 14 01:11 tsconfig.jest.json
-rw-r--r--   1 gaoruicheng  staff    472  1月 14 01:11 tsconfig.json
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc 'ls -la backend/src' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 86ms:
total 88
drwxr-xr-x  20 gaoruicheng  staff   640  1月 20 01:42 .
drwxr-xr-x  18 gaoruicheng  staff   576  1月 17 11:22 ..
-rw-r--r--   1 gaoruicheng  staff  8196  1月 13 23:53 .DS_Store
drwxr-xr-x  10 gaoruicheng  staff   320  1月 14 01:11 adminTools
drwxr-xr-x   9 gaoruicheng  staff   288  1月 20 01:42 agent
-rw-r--r--   1 gaoruicheng  staff  1200  1月 20 01:42 app.module.ts
drwxr-xr-x   3 gaoruicheng  staff    96  1月 14 01:11 auth
-rw-r--r--   1 gaoruicheng  staff  5484  1月 14 01:11 bootstrap.ts
drwxr-xr-x   3 gaoruicheng  staff    96  1月 17 11:22 config
drwxr-xr-x   3 gaoruicheng  staff    96  1月 15 14:31 db
-rw-r--r--   1 gaoruicheng  staff  6391  1月 15 14:31 db.ts
-rw-r--r--   1 gaoruicheng  staff   468  1月 14 01:11 main.ts
drwxr-xr-x   5 gaoruicheng  staff   160  1月 15 14:31 modelProviders
drwxr-xr-x  14 gaoruicheng  staff   448  1月 20 01:42 modules
drwxr-xr-x   3 gaoruicheng  staff    96  1月 14 01:11 prisma
drwxr-xr-x  13 gaoruicheng  staff   416  1月 20 01:42 services
drwxr-xr-x   7 gaoruicheng  staff   224  1月 16 10:15 tests
drwxr-xr-x   9 gaoruicheng  staff   288  1月 20 01:42 types
drwxr-xr-x   8 gaoruicheng  staff   256  1月 20 01:42 utils
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Evaluating worker execution**

I notice there's a worker.ts file in the root src, which probably relates to worker execution. That seems good, and I plan to inspect it. I also want to check main.ts, bootstrap, and modules. To understand delayed execution better, I need to look into the queuing mechanism. I'll search for terms like Bull and other related keywords using `rg -n "Bull|bull|queue|Agenda|cron|schedule|delay" backend/src`. Sounds like a solid plan!
exec
/bin/zsh -lc "rg -n \"\\b(bull|Bull|bullmq|Bee|queue|Queue|agenda|cron|schedule|delay|delayed)\\b\" backend/src | head" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 83ms:
backend/src/worker.ts:4: * - Polls the DB queue (see `backend/src/services/taskService.ts`) and consumes tasks serially via `backend/src/services/taskRunner.ts`.
backend/src/types/task.ts:91:   * Archived tasks are excluded from the worker queue and default console lists. qnp1mtxhzikhbi0xspbc
backend/src/types/task.ts:111:  queue?: TaskQueueDiagnosis;
backend/src/utils/providerRuntime.ts:20:  const queue: AsyncLogItem[] = [];
backend/src/utils/providerRuntime.ts:26:    while (queue.length > 0) {
backend/src/utils/providerRuntime.ts:27:      const item = queue.shift();
backend/src/utils/providerRuntime.ts:45:      if (queue.length > 0) ensurePump();
backend/src/utils/providerRuntime.ts:56:    // Backpressure: keep a bounded queue by dropping non-important messages first.
backend/src/utils/providerRuntime.ts:57:    if (queue.length >= maxQueueSize) {
backend/src/utils/providerRuntime.ts:58:      const dropIndex = queue.findIndex((item) => !item.important);
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Inspecting task queue structure**

I see that the search results indicate that the queue is database-based, which is important. This means the worker is polling the DB queue, suggesting that tasks are stored there. I wonder if scheduled tasks could be managed through a `nextRunAt` timestamp, allowing for polling of due tasks. I'll need to take a closer look at `worker.ts` and `services/taskService`, likely found in `backend/src/services`. Let’s check out `worker.ts` next!
exec
/bin/zsh -lc "sed -n '1,200p' backend/src/worker.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 78ms:
/**
 * Standalone Worker process entry (no HTTP):
 * - Started via `dev:worker` / `start:worker` in `backend/package.json`, or via the docker-compose worker service.
 * - Polls the DB queue (see `backend/src/services/taskService.ts`) and consumes tasks serially via `backend/src/services/taskRunner.ts`.
 * - On startup, recovers "stuck" processing tasks (avoids tasks being permanently stuck in processing after API/worker restarts);
 *   see `TaskService.recoverStaleProcessing`.
 * - The Webhook/API process can also trigger an inline worker (see INLINE_WORKER_ENABLED in `backend/src/routes/webhook.ts` and `backend/src/routes/tasks.ts`).
 */
import dotenv from 'dotenv';
import type { INestApplicationContext } from '@nestjs/common';
import { NestFactory } from '@nestjs/core';
import { ensureSchema, closeDb } from './db';
import { TaskRunner } from './modules/tasks/task-runner.service';
import { TaskService } from './modules/tasks/task.service';
import { WorkerModule } from './modules/worker/worker.module';
import { isPreferredWorkerPresent, tryAcquirePreferredWorkerLock, type PreferredWorkerLockHandle } from './services/workerPriority';

dotenv.config();

// Help diagnose "silent exits" (e.g., signal termination, unexpected promise rejections).
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc 'ls -la backend/src/modules/tasks' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 84ms:
total 232
drwxr-xr-x  13 gaoruicheng  staff    416  1月 20 01:42 .
drwxr-xr-x  14 gaoruicheng  staff    448  1月 20 01:42 ..
-rw-r--r--   1 gaoruicheng  staff    861  1月 14 01:11 agent.service.ts
-rw-r--r--@  1 gaoruicheng  staff   6747  1月 20 12:04 chat.controller.ts
-rw-r--r--   1 gaoruicheng  staff   4125  1月 20 01:42 dashboard.controller.ts
drwxr-xr-x   6 gaoruicheng  staff    192  1月 20 01:42 dto
-rw-r--r--@  1 gaoruicheng  staff   4666  1月 20 12:02 task-groups.controller.ts
-rw-r--r--   1 gaoruicheng  staff   1580  1月 14 01:11 task-log-stream.service.ts
-rw-r--r--   1 gaoruicheng  staff   5042  1月 14 01:11 task-runner.service.ts
-rw-r--r--@  1 gaoruicheng  staff  48455  1月 20 12:01 task.service.ts
-rw-r--r--   1 gaoruicheng  staff    874  1月 20 01:42 tasks-http.module.ts
-rw-r--r--@  1 gaoruicheng  staff  18564  1月 20 12:04 tasks.controller.ts
-rw-r--r--   1 gaoruicheng  staff    596  1月 14 01:11 tasks.module.ts
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '1,240p' backend/src/modules/tasks/task-runner.service.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 86ms:
import { Injectable } from '@nestjs/common';
import { AgentExecutionError } from '../../agent/agent';
import { Task, type TaskResult, type TaskStatus } from '../../types/task';
import { AgentService } from './agent.service';
import { TaskService } from './task.service';

export interface TaskRunnerFinishInfo {
  status: TaskStatus;
  message?: string;
  providerCommentUrl?: string;
  durationMs?: number;
}

export interface TaskRunnerHooks {
  onTaskStart?: (task: Task) => void | Promise<void>;
  onTaskFinish?: (task: Task, info: TaskRunnerFinishInfo) => void | Promise<void>;
}

/**
 * Queue runner (serially consumes tasks):
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc 'rg -n "takeNextQueued" backend/src/modules/tasks/task.service.ts' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 84ms:
23: * - Consume: `backend/src/services/taskRunner.ts` uses `takeNextQueued()` with `FOR UPDATE SKIP LOCKED` to serially claim tasks and mark them processing.
1194:  async takeNextQueued(): Promise<Task | undefined> {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '1120,1260p' backend/src/modules/tasks/task.service.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 82ms:
        where: { id },
        data: { status, updatedAt: now }
      });
      return taskRecordToTask(row);
    } catch (err) {
      if (isNotFoundError(err)) return undefined;
      throw err;
    }
  }

  async updateResult(
    id: string,
    result: Partial<TaskResult>,
    status?: TaskStatus
  ): Promise<Task | undefined> {
    const now = new Date();
    const existing = await this.getTask(id);
    const mergedResult = { ...(existing?.result ?? {}), ...result };

    try {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc 'rg -n "scheduled|schedule|delay|runAt|executeAt|notBefore" backend/src/types/task.ts backend/prisma/schema.prisma backend/src/modules/tasks/task.service.ts | head -n 50' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 89ms:

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc 'ls -la backend/prisma' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 79ms:
total 16
drwxr-xr-x   4 gaoruicheng  staff   128  1月 15 14:31 .
drwxr-xr-x  18 gaoruicheng  staff   576  1月 17 11:22 ..
drwxr-xr-x   7 gaoruicheng  staff   224  1月 20 11:49 migrations
-rw-r--r--@  1 gaoruicheng  staff  7105  1月 20 11:49 schema.prisma
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc 'rg -n "model Task" backend/prisma/schema.prisma' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 81ms:
10:model Task {
39:model TaskGroup {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '1,120p' backend/prisma/schema.prisma" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 86ms:
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Task {
  id           String   @id @db.Uuid
  groupId      String?  @map("group_id") @db.Uuid
  eventType    String   @map("event_type")
  status       String
  archivedAt   DateTime? @map("archived_at") @db.Timestamptz(6)
  payload      Json?    @map("payload_json") @db.JsonB
  promptCustom String?  @map("prompt_custom")
  title        String?
  projectId    Int?     @map("project_id")
  repoProvider String?  @map("repo_provider")
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 




thinking
**Analyzing task creation**

I need to dig into how tasks are created when the webhook receives an event, possibly inserting them as 'queued' status. I'm thinking about the "INLINE_WORKER_ENABLED" and whether triggering it would call TaskRunner immediately, which could bypass any delay. If we implement a delay, the inline worker must respect the scheduled time. I'll check the task.service.ts for comments on the DB queue and SQL `FOR UPDATE SKIP LOCKED` for concurrency details. It seems like multiple workers might select tasks concurrently!
thinking
**Evaluating task delay execution**

I need to look into the possibility of delaying task execution. Is there a scheduler in play? I could introduce a task status of 'queued' along with a `not_before` or `run_at` timestamp to set when the task should start. By setting `notBefore` to now plus any delay, I can adjust how tasks are polled based on their timing. There are also options for a separate scheduler job or using an external queue like BullMQ, but that might be overkill. Plus, I need to account for timezones and clock drift.
thinking
**Improving task reliability and management**

I'm considering how the current query uses app time with `now`, but it might be better to rely on the database's `NOW()` for consistency. For tasks, they should persist in the database, including delayed ones. I want to ensure concurrency with multiple workers using SKIP LOCKED in queries. There's also the issue of idempotency since tasks might be enqueued multiple times without deduplication. I'll need to examine how tasks are created, particularly in TaskService.create, and search through task.service.ts for relevant logic.
exec
/bin/zsh -lc 'rg -n "async (create|enqueue|createTask|createFrom)" backend/src/modules/tasks/task.service.ts | head -n 50' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 101ms:
537:  async createTask(
585:  async createTaskInGroup(
648:  async createManualTaskGroup(params: {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '480,740p' backend/src/modules/tasks/task.service.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 80ms:
    const repoMap = new Map<string, TaskRepoSummary>(
      repos.map((r: RepoMetaRow): [string, TaskRepoSummary] => [
        String(r.id),
        {
          id: String(r.id),
          provider: String(r.provider) as RepoProvider,
          name: String(r.name),
          enabled: Boolean(r.enabled)
        }
      ])
    );
    const robotMap = new Map<string, TaskRobotSummary>(
      robots.map((r: RobotMetaRow): [string, TaskRobotSummary] => [
        String(r.id),
        {
          id: String(r.id),
          repoId: String(r.repoId),
          name: String(r.name),
          permission: String(r.permission) as TaskRobotSummary['permission'],
          enabled: Boolean(r.enabled)
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 




thinking
**Evaluating task scheduling**

I notice that createTask always sets the status to 'queued', so implementing delay support might need a new method, perhaps createTaskScheduled or adding a parameter in the metadata for notBefore. I can analyze this further. It's important to mention that tasks are consumed serially by `TaskRunner`, which uses SKIP LOCKED to let multiple workers claim one task at a time. The TaskRunner's runLoop continues until there are no more tasks, meaning it can process multiple tasks sequentially with each trigger call.
thinking
**Examining delayed task processing**

For delayed tasks, the poll interval affects how promptly due tasks are detected. Since the runLoop processes tasks until the queue is empty, it might pause if there are tasks scheduled for the future, potentially delaying processing up to the interval time. This is manageable if the poll interval is short. However, I wonder if we could improve this by sleeping until the next due time instead. 

We could add a timestamp field to enable delayed execution, and if we can't change the schema, we might consider treating tasks as 'queued' and modifying queries to use a condition based on `created_at`. Alternatively, we could implement delay by storing a "notBefore" timestamp in the JSON payload, although querying that adds complexity.
thinking
**Inspecting task types**

I realize that querying JSON can be tricky and isn’t easily indexable without using an expression index, which I know isn't recommended. It feels better to simply add a separate column instead. I think I'll take a look at `backend/src/types/task.ts` to check the Task type definition. I want to see if it includes information about queue diagnoses and the statuses or event types related to tasks. Understanding this structure will help inform my decisions.
exec
/bin/zsh -lc "sed -n '1,220p' backend/src/types/task.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 76ms:
import type { RepoProvider } from './repository';
import type { RobotPermission } from './repoRobot';

export type TaskStatus = 'queued' | 'processing' | 'succeeded' | 'failed' | 'commented';

/**
 * Internal event types (extensible):
 * - Currently mainly used: issue / commit / merge_request (distinguish created/commented/updated via `payload.__subType`)
 * - Kept for legacy compatibility: issue_created / issue_comment / commit_review / push / note
 */
export type TaskEventType =
  | 'issue'
  | 'commit'
  | 'merge_request'
  | 'issue_created'
  | 'issue_comment'
  | 'commit_review'
  | 'push'
  | 'note'
  | 'unknown'
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 



thinking
**Evaluating task status options**

I noticed that TaskStatus doesn’t currently account for scheduled or delayed tasks. I could add a new status, but for delays, we might keep the status as 'queued' and introduce a `notBefore` field. Alternatively, we could create tasks with a 'queued' status and change `createdAt` to a future time. But that could be hacky. It might be more effective to add an `availableAt` column while considering how this impacts the UI and front-end task lists.
thinking
**Investigating queue diagnosis**

I need to check how the queue diagnosis is being computed. I should search for "queue diagnosis" or specifically `TaskQueueDiagnosis`. A good approach would be to use a command like `rg "TaskQueueDiagnosis" backend/src/modules/tasks/task.service.ts` to locate the relevant code. That way, I can understand its implementation and how it contributes to the task processing. This will help ensure everything is functioning correctly!
exec
/bin/zsh -lc "rg -n \"TaskQueueDiagnosis|queue_backlog|queue\\?:\" backend/src/modules/tasks/task.service.ts | head -n 80" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 89ms:
8:  type TaskQueueDiagnosis,
386:    if (params.processing > 0 || params.ahead > 0) return 'queue_backlog';
446:      const queue: TaskQueueDiagnosis = {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '300,520p' backend/src/modules/tasks/task.service.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 80ms:
        update: { updatedAt: now },
        create: {
          id: randomUUID(),
          kind: binding.kind,
          bindingKey: binding.bindingKey,
          threadId: null,
          title: params.meta?.title ?? null,
          repoProvider: params.meta?.repoProvider ?? null,
          repoId: params.meta?.repoId ?? null,
          robotId: params.meta?.robotId ?? null,
          issueId: binding.issueId ?? null,
          mrId: binding.mrId ?? null,
          commitSha: binding.commitSha ?? null,
          createdAt: now,
          updatedAt: now
        }
      });
      return String(group.id);
    } catch (err) {
      console.warn('[tasks] create task group failed (ignored)', { taskId: params.taskId, error: err });
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 



thinking
**Analyzing task status**

I'm grappling with the concept of task statuses and whether to introduce a new "scheduled" or "queued but due" status. It's a bit confusing, especially since tasks scheduled for the future could complicate how we track their processing. I consider keeping the original "queued" status but adjusting the creation timestamp to indicate a future date. This way, tasks wouldn't appear until they're due, although they might still filter correctly by their created date. There's a lot to weigh as I think through these trade-offs.
thinking
**Locating worker references**

I'm diving into the code in worker.ts and noting that an inline worker is triggered by certain routes. However, the code seems to reference the modules for tasks, which makes me wonder if those routes are on a new path. To clarify, I'll search for `INLINE_WORKER_ENABLED` using a command that looks through the backend/src directory. That should help me pinpoint where these references are and make sure I'm understanding the structure correctly.
exec
/bin/zsh -lc 'rg -n "INLINE_WORKER_ENABLED" backend/src | head -n 50' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 90ms:
backend/src/worker.ts:7: * - The Webhook/API process can also trigger an inline worker (see INLINE_WORKER_ENABLED in `backend/src/routes/webhook.ts` and `backend/src/routes/tasks.ts`).
backend/src/modules/webhook/webhook.handlers.ts:297:  const raw = (process.env.INLINE_WORKER_ENABLED ?? '').trim().toLowerCase();
backend/src/modules/tasks/tasks.controller.ts:469:      if (isTruthy(process.env.INLINE_WORKER_ENABLED, true)) {
backend/src/modules/tasks/chat.controller.ts:130:      if (isTruthy(process.env.INLINE_WORKER_ENABLED, true)) {
backend/src/modules/tasks/task.service.ts:402:    const inlineWorkerEnabled = isTruthy(process.env.INLINE_WORKER_ENABLED, true);
backend/src/tests/unit/chatController.test.ts:5:    process.env.INLINE_WORKER_ENABLED = 'false';
backend/src/tests/unit/taskServiceListTasks.test.ts:77:    const prevInlineWorkerEnabled = process.env.INLINE_WORKER_ENABLED;
backend/src/tests/unit/taskServiceListTasks.test.ts:78:    delete process.env.INLINE_WORKER_ENABLED;
backend/src/tests/unit/taskServiceListTasks.test.ts:123:    if (prevInlineWorkerEnabled === undefined) delete process.env.INLINE_WORKER_ENABLED;
backend/src/tests/unit/taskServiceListTasks.test.ts:124:    else process.env.INLINE_WORKER_ENABLED = prevInlineWorkerEnabled;
backend/src/tests/unit/taskServiceListTasks.test.ts:127:  test('INLINE_WORKER_ENABLED=false 且 processing=0 时 queued diagnosis 的 reasonCode=inline_worker_disabled', async () => {
backend/src/tests/unit/taskServiceListTasks.test.ts:128:    const prevInlineWorkerEnabled = process.env.INLINE_WORKER_ENABLED;
backend/src/tests/unit/taskServiceListTasks.test.ts:129:    process.env.INLINE_WORKER_ENABLED = 'false';
backend/src/tests/unit/taskServiceListTasks.test.ts:162:    if (prevInlineWorkerEnabled === undefined) delete process.env.INLINE_WORKER_ENABLED;
backend/src/tests/unit/taskServiceListTasks.test.ts:163:    else process.env.INLINE_WORKER_ENABLED = prevInlineWorkerEnabled;
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "rg -n \"createTask\\(\" backend/src/modules/webhook/webhook.handlers.ts | head -n 50" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 91ms:
914:      const task = await taskService.createTask(eventType, payload, {
1209:      const task = await taskService.createTask(eventType, payload, {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '860,980p' backend/src/modules/webhook/webhook.handlers.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 87ms:
          console.error('[webhook] hydrate repo identity failed', err);
          return respond(
            409,
            { error: 'Failed to bind webhook to repository identity', code: 'WEBHOOK_BIND_FAILED' },
            { result: 'rejected', code: 'WEBHOOK_BIND_FAILED', message: 'Failed to bind webhook to repository identity' }
          );
        }
        console.warn('[webhook] hydrate repo config failed (ignored)', err);
      }
    }

    await repositoryService.markWebhookVerified(repoId);

    const robots = (await repoRobotService.listByRepo(repoId)).filter((r) => r.enabled);
    if (!robots.length) {
      return respond(202, { skipped: true, reason: 'no enabled robot configured' }, { result: 'skipped', message: 'no enabled robot configured' });
    }

    const mapped = mapGitlabAutomationEvent(eventName, req.body);
    if (!mapped) {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Considering task delays**

I'm looking at how webhook creates tasks and triggers the inline runner without any delay. To implement a delay, I wonder if action config can specify it? There’s repo automation to check, specifically `resolveAutomationActions` for scheduling. However, "task delay execution" could mean delaying due to a backlog or scheduling for certain times. It could also refer to internal delays when no worker is active. I’ll need to dive into the automation config and possibly inspect the `RepoAutomationConfig` model.
exec
/bin/zsh -lc 'rg -n "RepoAutomationConfig|automation" backend/prisma/schema.prisma | head -n 50' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 87ms:
94:  automationConfig RepoAutomationConfig?
160:model RepoAutomationConfig {
168:  @@map("repo_automation_configs")
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '150,220p' backend/prisma/schema.prisma" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 81ms:
  isDefault             Boolean   @default(false) @map("is_default")
  createdAt             DateTime  @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt             DateTime  @default(now()) @map("updated_at") @db.Timestamptz(6)

  repo Repository @relation(fields: [repoId], references: [id], onDelete: Cascade)

  @@map("repo_robots")
  @@index([repoId], map: "repo_robots_repo_id_idx")
}

model RepoAutomationConfig {
  repoId     String   @id @map("repo_id") @db.Uuid
  config     Json     @map("config_json") @db.JsonB
  createdAt  DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt  DateTime @default(now()) @map("updated_at") @db.Timestamptz(6)

  repo       Repository @relation(fields: [repoId], references: [id], onDelete: Cascade)

  @@map("repo_automation_configs")
}
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Inspecting automation config**

I'm thinking about the automation config and how it uses JSON for setting conditions and prompts. It might include a "delay," but I'm not entirely sure. My next step is to inspect the code for `resolveAutomationActions` so I can better understand how it functions. I’ll search in the backend source files for that. Let's see what I can uncover!
exec
/bin/zsh -lc 'rg -n "resolveAutomationActions" backend/src | head -n 50' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 89ms:
backend/src/services/automationEngine.ts:336:export const resolveAutomationActions = (input: {
backend/src/modules/webhook/webhook.handlers.ts:16:import { resolveAutomationActions } from '../../services/automationEngine';
backend/src/modules/webhook/webhook.handlers.ts:28: *   (see `resolveAutomationActions`).
backend/src/modules/webhook/webhook.handlers.ts:396: * - Whether it should trigger is decided by repo automation config (resolveAutomationActions)
backend/src/modules/webhook/webhook.handlers.ts:892:    const actions = resolveAutomationActions({
backend/src/modules/webhook/webhook.handlers.ts:1187:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:1:import { resolveAutomationActions } from '../../services/automationEngine';
backend/src/tests/unit/automationEngine.test.ts:44:describe('automationEngine.resolveAutomationActions', () => {
backend/src/tests/unit/automationEngine.test.ts:80:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:118:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:166:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:208:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:238:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:281:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:318:    const actions = resolveAutomationActions({
backend/src/tests/unit/automationEngine.test.ts:347:    const actions = resolveAutomationActions({
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '320,460p' backend/src/services/automationEngine.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 90ms:
    .filter((v: any) => typeof v === 'string' || typeof v === 'number')
    .map((v: any) => String(v).trim().toLowerCase())
    .filter(Boolean);

  const textAll = extractTextAll(eventType, payload);

  return {
    event: { type: eventType, subType: extractEventSubType(payload) },
    branch: { name: branchName, role: branchRole },
    push: { branch: branchName },
    issue: { assignees },
    comment: { mentions, mentionRobotIds, body: commentBody },
    text: { all: textAll }
  };
};

export const resolveAutomationActions = (input: {
  eventType: TaskEventType;
  payload: any;
  robots: RepoRobot[];
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Considering task scheduling**

No delay is configured for automation right now, but I could think about adding that. My evaluation should focus on whether the current architecture can support delay. Since tasks are in the database and workers poll with SQL, that's a good base for adding a `run_at` field. Also, I want to check the front-end structure to see if the tasks list shows statuses. I'll need to inspect the frontend by running `ls frontend`.
exec
/bin/zsh -lc 'ls -la frontend' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 85ms:
total 80
drwxr-xr-x  15 gaoruicheng  staff   480  1月 20 01:42 .
drwxr-xr-x@ 25 gaoruicheng  staff   800  1月 20 21:21 ..
-rw-r--r--   1 gaoruicheng  staff    37  1月 14 01:11 .dockerignore
-rw-r--r--   1 gaoruicheng  staff  1134  1月 14 00:12 .env
-rw-r--r--   1 gaoruicheng  staff  1822  1月 20 01:42 .env.example
-rw-r--r--   1 gaoruicheng  staff  1788  1月 20 01:42 AGENTS.md
drwxr-xr-x   8 gaoruicheng  staff   256  1月 20 14:17 dist
-rw-r--r--   1 gaoruicheng  staff  1810  1月 15 15:16 Dockerfile
-rw-r--r--   1 gaoruicheng  staff   508  1月 14 01:11 index.html
drwxr-xr-x  20 gaoruicheng  staff   640  1月 20 01:13 node_modules
-rw-r--r--   1 gaoruicheng  staff   992  1月 20 01:42 package.json
drwxr-xr-x  15 gaoruicheng  staff   480  1月 20 01:42 src
-rw-r--r--   1 gaoruicheng  staff   459  1月 14 01:11 tsconfig.json
-rw-r--r--   1 gaoruicheng  staff  2132  1月 20 01:42 vite.config.ts
-rw-r--r--   1 gaoruicheng  staff  1479  1月 14 01:11 vitest.config.ts
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Evaluating UI changes**

I realize that front-end changes may not be necessary for evaluating delays, but I think the statuses could still require some UI adjustments. I'll check the tasks list components to see what needs attention. I should also search for the term "queued" in the front-end code. I might run a command like `rg "'queued'" frontend/src | head` to gather the relevant information quickly. Let’s see what I find!
exec
/bin/zsh -lc "rg -n \"'queued'|\\bqueued\\b\" frontend/src | head -n 50" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 103ms:
frontend/src/pages/TasksPage.tsx:30:type StatusSummaryKey = 'all' | 'queued' | 'processing' | 'success' | 'failed';
frontend/src/pages/TasksPage.tsx:36:  if (raw === 'queued' || raw === 'processing' || raw === 'succeeded' || raw === 'failed' || raw === 'commented')
frontend/src/pages/TasksPage.tsx:64:    if (statusFilter === 'queued') return 'queued';
frontend/src/pages/TasksPage.tsx:143:      // Allow retrying queued tasks directly from the task list top-right action. f3a9c2d8e1b7f4a0c6d1
frontend/src/pages/TasksPage.tsx:184:    if (statusFilter === 'queued') return t('task.status.queued');
frontend/src/pages/TasksPage.tsx:194:    if (statusFilter === 'queued') return 'blue';
frontend/src/pages/TasksPage.tsx:205:      { key: 'queued', label: t('task.status.queued'), count: stats?.queued ?? undefined },
frontend/src/pages/TasksPage.tsx:313:                        {task.status === 'queued' && task.permissions?.canManage ? (
frontend/src/pages/TasksPage.tsx:314:                          /* Render a retry affordance beside the queued status tag. f3a9c2d8e1b7f4a0c6d1 */
frontend/src/pages/TasksPage.tsx:336:                    {task.status === 'queued' ? (
frontend/src/pages/TasksPage.tsx:337:                      /* Show a short queued diagnosis hint under queued tasks (best-effort). f3a9c2d8e1b7f4a0c6d1 */
frontend/src/components/chat/TaskConversationItem.tsx:32:  const [logsExpanded, setLogsExpanded] = useState(() => task.status === 'queued' || task.status === 'processing');
frontend/src/pages/AppShell.tsx:60: *   - Sidebar shows task status sections (queued/processing/completed/failed) with collapse + top 3 items.
frontend/src/pages/AppShell.tsx:69:type SidebarTaskSectionKey = 'queued' | 'processing' | 'success' | 'failed';
frontend/src/pages/AppShell.tsx:73:  statusFilter: 'queued' | 'processing' | 'success' | 'failed';
frontend/src/pages/AppShell.tsx:75:    | 'sidebar.tasks.queued'
frontend/src/pages/AppShell.tsx:81:  { key: 'queued', statusFilter: 'queued', labelKey: 'sidebar.tasks.queued', icon: <HourglassOutlined /> },
frontend/src/pages/AppShell.tsx:97:  queued: false,
frontend/src/pages/AppShell.tsx:104:  queued: [],
frontend/src/pages/AppShell.tsx:111:const SIDEBAR_POLL_IDLE_MS = 30_000; // Slow down when no tasks are queued/processing. 7bqwou6abx4ste96ikhv
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 



thinking
**Considering task statuses**

The front-end expects specific statuses: queued, processing, succeeded, failed, and commented. Introducing a new status like "scheduled" would necessitate updates to the front-end, which we're not currently implementing. If I delay tasks by changing `createdAt` to a future date, the front-end would still show them as queued, which could lead to confusion when sorting by createdAt. A solution might also be to add a `scheduledAt` timestamp, but that requires modifications too.
thinking
**Evaluating task scheduling**

The question revolves around the possibility of implementing a delay in the current architecture, which uses database polling. This would be feasible but would need changes to the database schema and the API/UI for user-friendliness. I think I should look into the `tasks.controller` and possibly the `chat.controller` for functions related to listing tasks. It’s also essential to understand how tasks are scheduled and whether there's an existing concept of a schedule or hints. I'll search for "createTask" in the `tasks.controller` to investigate.
exec
/bin/zsh -lc "rg -n \"createTask\\(|retryTask\\(|forceRetry|delay|schedule\" backend/src/modules/tasks/tasks.controller.ts | head -n 80" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 100ms:
465:      const task = await this.taskService.retryTask(id);
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '420,520p' backend/src/modules/tasks/tasks.controller.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 95ms:
        canViewLogs: Boolean(decorated?.permissions?.canManage) && isTaskLogsEnabled(),
        includeOutputText: true
      });
      return { task: sanitized };
    } catch (err) {
      if (err instanceof HttpException) throw err;
      console.error('[tasks] get failed', err);
      throw new InternalServerErrorException({ error: 'Failed to fetch task' });
    }
  }

  @Post(':id/retry')
  @ApiOperation({
    summary: 'Retry task',
    description: 'Retry a task. Use force=true to retry a processing task when allowed.',
    operationId: 'tasks_retry'
  })
  @ApiOkResponse({ description: 'OK', type: RetryTaskResponseDto })
  @ApiUnauthorizedResponse({ description: 'Unauthorized', type: ErrorResponseDto })
  @ApiNotFoundResponse({ description: 'Not Found', type: ErrorResponseDto })
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 



thinking
**Evaluating worker tasks**

I don't have a set schedule right now, so I should check the `worker.module.ts` file, as it might define the worker provider. I may also look at `workerPriority` to see how tasks are executed. Delays could be adjusted in the `takeNextQueued` function, but I need to evaluate the task pipeline created by webhook and inline worker triggers. If there's a delay, the inline worker shouldn't run tasks until they're due. The run loop currently runs until no queued tasks remain, which seems fine.
thinking
**Considering DB load and task management**

I need to be mindful of the database load, especially if many tasks are scheduled far into the future. The worker polls every two seconds, which could be excessive if there are no due tasks. Perhaps I could increase the polling interval or compute the next due task and sleep instead—this might be a good improvement to mention, even if it's just a possibility. There's also a `TaskQueueDiagnosis` that counts queued tasks, allowing us to potentially handle scheduled tasks differently. I'll need to check out `taskRunner` and the overall project structure, including the `happy` directory.
exec
/bin/zsh -lc 'ls -la happy | head' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 106ms:
total 2368
drwxr-xr-x  37 gaoruicheng  staff    1184  1月 20 21:21 .
drwxr-xr-x@ 25 gaoruicheng  staff     800  1月 20 21:21 ..
drwxr-xr-x   4 gaoruicheng  staff     128  1月 20 21:21 .claude
drwxr-xr-x   3 gaoruicheng  staff      96  1月 20 21:21 .eas
drwxr-xr-x   3 gaoruicheng  staff      96  1月 20 21:21 .github
-rw-r--r--   1 gaoruicheng  staff     549  1月 20 21:21 .gitignore
drwxr-xr-x   3 gaoruicheng  staff      96  1月 20 21:21 .vscode
-rw-r--r--   1 gaoruicheng  staff    6463  1月 20 21:21 app.config.js
-rw-r--r--   1 gaoruicheng  staff    1072  1月 20 21:21 babel.config.js
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 






thinking
**Evaluating task execution**

I'm evaluating whether using Node's React Native expo is relevant to the tasks I'm looking into, and it seems probably not. The backend is built with NestJS, using a Postgres tasks table managed by Prisma. There's a separate worker for task execution, where TaskRunner and TaskService are utilized to manage task queues and concurrency safely. The poll interval is controlled by an environment variable, ensuring timely task processing. Also, there's an inline worker option for webhook triggers.
thinking
**Exploring task scheduling options**

The worker can trigger tasks immediately through TaskRunner without needing a separate worker, but currently, the queue only processes tasks marked as `status='queued'` with no scheduling delays. I have two options for adding delay execution. 

Option A involves adding a `not_before` timestamp column to manage scheduled tasks and introducing a new status 'scheduled' for better queue management, which complicates the code. 

Option B repurposes the `createdAt` timestamp to act as a scheduled time, meaning tasks won’t be eligible until their `createdAt` is in the past.
thinking
**Reassessing task query filters**

I've realized that the current query only picks the minimum `createdAt` without a filter for `<= now`, which means future tasks might be picked up unintentionally. I could modify the query to include a `created_at <= now` filter, but that could break the semantics of `createdAt`. 

Option C involves using a JSON field for scheduling, which isn't ideal, and Option D suggests changing to an external queue like Redis for delayed jobs, which would be a significant shift. Given their current setup with a DB queue, Option A with the new column feels like the most natural choice.
thinking
**Considering task reliability and semantics**

I need to think about reliability and how we're handling task semantics. Using DB persistence can help ensure delay tasks even across restarts. 

However, the poll interval limits accuracy. There's a risk of tasks starving if many are scheduled earlier, which could affect query ordering. If I filter `not_before <= now` and order by `created_at`, tasks might not appear in the correct sequence. 

It may be better to order them by `not_before` first. For FIFO maintenance, scheduling needs to prioritize older tasks, ensuring queued tasks are not labeled "stuck." I'll also look into `recoverStaleProcessing` with the `updatedAt` threshold, which doesn't seem directly relevant right now.
thinking
**Examining task scheduling and diagnostics**

I'm looking into how the task list interacts with queue diagnosis. If there are scheduled tasks, the system might mistakenly treat them as queued, which could lead to confusing reasons like 'queue_backlog.' To clarify this, we may need a new reason code and UI hint, such as "Scheduled for ...", as part of my evaluation.

We should also factor in rate limits that could delay tasks due to provider restrictions. A possible design includes adding fields like `runAt` for eligibility and potentially `startedAt`. 

It would be beneficial to modify the API to accept `delayMs` or `runAt` when creating tasks, but since the user requested to "只评估可能性," we can confirm that this is feasible. The tasks are already saved in the database and managed by the polling worker, making the addition of a new field and filtering a straightforward approach. I'll also check if there's a worker service in the `docker-compose` files for further information.
exec
/bin/zsh -lc 'ls -la docker' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 108ms:
total 40
drwxr-xr-x   7 gaoruicheng  staff    224  1月 17 11:22 .
drwxr-xr-x@ 25 gaoruicheng  staff    800  1月 20 21:21 ..
-rw-r--r--   1 gaoruicheng  staff    428  1月 15 19:41 .env
-rw-r--r--   1 gaoruicheng  staff  12086  1月 17 11:22 .env.example
drwxr-xr-x   4 gaoruicheng  staff    128  1月 17 11:22 ci
-rw-r--r--   1 gaoruicheng  staff   2584  1月 15 15:16 docker-compose.yml
drwxr-xr-x   3 gaoruicheng  staff     96  1月 15 14:31 nginx
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 





thinking
**Evaluating worker processes**

I can look into the docker-compose setup to see how the worker runs, though it’s not necessary. The evaluation of delay seems dependent on whether they run separate workers. The worker.ts file supports a `WORKER_PREFERRED` lock to avoid duplicates. If tasks are processed inline in the API, they may not run continuously, which could lead to issues with scheduled tasks. These tasks would require a dedicated worker process. If there’s no active worker for scheduled tasks, they may never execute. So, having a worker is essential!
thinking
**Considering worker detection**

I can mention the detection of `no_active_worker`, which might rely on the processing count. If there are no tasks processing, it assumes there’s no worker. However, scheduled tasks won't show correctly if the processing count is zero and inline worker is enabled. To improve scheduling support, updating the queue diagnosis is necessary to account for due tasks and their schedule time. It currently doesn’t check for scheduled tasks, which can mislead users, so adjustments to the UI might be needed as well.
thinking
**Analyzing project structure and queue diagnosis**

I need to analyze the front-end tasks pages for queue diagnosis hints, like showing "排队中" for queued tasks and possibly "计划中" for scheduled ones. I’ll also check `backend/src/tests`, especially the `taskServiceListTasks.test.ts`, to see if it includes relevant queue diagnosis tests. While we aren't implementing changes, the user asked for a structural analysis focused on delay potential.

They might want a high-level view that mentions packages, the monorepo setup, and technologies like NestJS/Prisma for the backend and Vite React for the frontend. Keeping our planning documentation updated after every two operations sounds like a good plan too!
thinking
**Updating findings and progress documentation**

I’m planning to update findings.md with my actual discoveries, including details on the DB queue, worker poll, and takeNextQueued query. I'm noting there’s no scheduled field, and the front-end expects certain statuses for queue diagnosis. I should also update progress.md with the actions I’ve taken so far. 

I’ll create a bullet list for findings and make sure to include resource paths. I'll add comments for any modifications in English, and ensure everything is patched correctly in findings.md. This will help keep everything organized!
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Fixing the patch issue**

It seems the patch failed because the file content has changed, and the line `--` might not be present anymore. I want to take a closer look at the current `findings.md` to figure out how to apply the patch correctly this time. I'll probably need to use `sed` for this task. Let’s explore the file and see what adjustments I can make to resolve the issue!
exec
/bin/zsh -lc "sed -n '1,160p' docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 82ms:
# Findings & Decisions: 评估任务延迟执行可行性
<!-- 
  WHAT: Your knowledge base for the task. Stores everything you discover and decide.
  WHY: Context windows are limited. This file is your "external memory" - persistent and unlimited.
  WHEN: Update after ANY discovery, especially after 2 view/browser/search operations (2-Action Rule).
-->

<!-- Link discoveries to code changes via this session hash. 80f8nubdsqd476btx0sp -->

## Session Metadata
- **Session Hash:** 80f8nubdsqd476btx0sp
- **Created:** 2026-01-21

## Requirements
<!-- 
  WHAT: What the user asked for, broken down into specific requirements.
  WHY: Keeps requirements visible so you don't forget what you're building.
  WHEN: Fill this in during Phase 1 (Requirements & Discovery).
  EXAMPLE:
    - Command-line interface
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..015b600465dc051a267879ce46f87cc57df7a02a
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,7 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +77,8 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
+- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -40,3 +40,8 @@
 <!-- Key discoveries during exploration -->
-- (Pending) Determine what queue/worker implementation is used and whether it supports delayed jobs. <!-- Placeholder to be filled during exploration. 80f8nubdsqd476btx0sp -->
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
@@ -79,4 +84,8 @@
 <!-- URLs, file paths, API references -->
-- `backend/` (webhook receiver + worker execution entrypoints) <!-- Record likely relevant paths for later deep dive. 80f8nubdsqd476btx0sp -->
-- `frontend/` (web console; may expose task scheduling UX) 80f8nubdsqd476btx0sp
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 56ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '1,120p' docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 86ms:
# Progress Log
<!-- 
  WHAT: Your session log - a chronological record of what you did, when, and what happened.
  WHY: Answers "What have I done?" in the 5-Question Reboot Test. Helps you resume after breaks.
  WHEN: Update after completing each phase or encountering errors. More detailed than task_plan.md.
-->

<!-- Keep phase status updates in sync with task_plan.md for this session. 80f8nubdsqd476btx0sp -->

## Session Metadata
- **Session Title:** 评估任务延迟执行可行性
- **Session Hash:** 80f8nubdsqd476btx0sp

## Session: 2026-01-21
<!-- 
  WHAT: The date of this work session.
  WHY: Helps track when work happened, useful for resuming after time gaps.
  EXAMPLE: 2026-01-15
-->

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..a98d7abbe20a7468c48d6f23ac90662b5a5d7ff1
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,8 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +49,8 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating analysis records**

I need to include actions taken regarding the worker, task runner, and Prisma in my analysis. I should also update the list of modified files to include progress.md, as it wasn’t counted before. So, I’ll patch the progress to add bullet actions and file listings. I’ve modified findings.md too, which is already listed, but I need to reflect that I updated progress itself as well. Time to patch everything!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -42,2 +42,6 @@
   - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
@@ -53,2 +57,3 @@
   - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 69ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Evaluating task indexing and queries**

I'm considering our existing index on status and createdAt, and recognizing that adding a status+runAt index might be necessary. I should also check how many workers can run concurrently. The query uses `LIMIT 1 FOR UPDATE SKIP LOCKED`, which helps ensure concurrency. For implementing a delay, we'd need to adjust the `WHERE` clause to account for `run_at`. I think it's essential to filter out scheduled tasks to avoid them appearing ahead of due tasks.
exec
/bin/zsh -lc "rg -n \"async listTasks\\(\" backend/src/modules/tasks/task.service.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 98ms:
810:  async listTasks(options?: TaskListOptions): Promise<TaskWithMeta[]> {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '780,960p' backend/src/modules/tasks/task.service.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 79ms:
    return this.attachGroupMeta(groups);
  }

  async getTaskGroup(id: string, options?: { includeMeta?: boolean }): Promise<TaskGroupWithMeta | undefined> {
    const groupId = String(id ?? '').trim();
    if (!isUuidLike(groupId)) return undefined;

    const row = await db.taskGroup.findUnique({ where: { id: groupId } });
    const group = row ? (taskGroupRecordToTaskGroup(row) as TaskGroupWithMeta) : undefined;
    if (!group) return undefined;
    if (!options?.includeMeta) return group;
    const [withMeta] = await this.attachGroupMeta([group]);
    return withMeta;
  }

  async listTasksByGroup(
    groupId: string,
    options?: { limit?: number; includeMeta?: boolean }
  ): Promise<TaskWithMeta[]> {
    const id = String(groupId ?? '').trim();
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Clarifying task statuses**

I'm working with a task list that uses a raw SQL union of statuses, sorting by updated_at. If we add a `scheduled` status, I need to consider its inclusion. If we keep `queued` but also apply `notBefore`, tasks might still show as queued even when scheduled. This could be okay, but I should ensure the scheduled time is displayed. Plus, I need to check the stats used by the front-end, possibly looking into the tasks.stats endpoint or service.
exec
/bin/zsh -lc "rg -n \"stats\\b|TaskStatusStats|queuedTotal\" backend/src/modules/tasks | head -n 80" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 85ms:
backend/src/modules/tasks/tasks.controller.ts:151:  @Get('stats')
backend/src/modules/tasks/tasks.controller.ts:153:    summary: 'Task stats',
backend/src/modules/tasks/tasks.controller.ts:155:    operationId: 'tasks_stats'
backend/src/modules/tasks/tasks.controller.ts:159:  async stats(
backend/src/modules/tasks/tasks.controller.ts:171:      const stats = await this.taskService.getTaskStats({
backend/src/modules/tasks/tasks.controller.ts:178:      return { stats };
backend/src/modules/tasks/tasks.controller.ts:181:      console.error('[tasks] stats failed', err);
backend/src/modules/tasks/tasks.controller.ts:182:      throw new InternalServerErrorException({ error: 'Failed to fetch task stats' });
backend/src/modules/tasks/task.service.ts:92:export interface TaskStatusStats {
backend/src/modules/tasks/task.service.ts:444:      const queuedTotal = pos ? pos.total : queued.length;
backend/src/modules/tasks/task.service.ts:449:        queuedTotal,
backend/src/modules/tasks/task.service.ts:1011:  async getTaskStats(options?: TaskStatsOptions): Promise<TaskStatusStats> {
backend/src/modules/tasks/task.service.ts:1019:    // Keep stats in sync with the default "active only" task list behavior. qnp1mtxhzikhbi0xspbc
backend/src/modules/tasks/task.service.ts:1030:    const stats: TaskStatusStats = {
backend/src/modules/tasks/task.service.ts:1041:      stats.total += count;
backend/src/modules/tasks/task.service.ts:1044:      if (status === 'queued') stats.queued += count;
backend/src/modules/tasks/task.service.ts:1045:      else if (status === 'processing') stats.processing += count;
backend/src/modules/tasks/task.service.ts:1046:      else if (status === 'failed') stats.failed += count;
backend/src/modules/tasks/task.service.ts:1047:      else if (status === 'succeeded' || status === 'commented') stats.success += count;
backend/src/modules/tasks/task.service.ts:1050:    return stats;
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "sed -n '980,1080p' backend/src/modules/tasks/task.service.ts" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 82ms:
      `;
      tasks = rows.map(rowToTaskFromSql) as TaskWithMeta[];
    } else {
      const status = options.status;
      const rows = await db.$queryRaw<any[]>`
        SELECT id, group_id, event_type, status, archived_at, title, project_id, repo_provider, repo_id, robot_id, ref, mr_id, issue_id, retries, created_at, updated_at,
               jsonb_strip_nulls(jsonb_build_object(
                 'message', NULLIF(result_json->>'message', ''),
                 'summary', NULLIF(result_json->>'summary', ''),
                 'outputText', NULLIF(left(result_json->>'outputText', 4000), ''),
                 'tokenUsage', result_json->'tokenUsage',
                 'providerCommentUrl', NULLIF(result_json->>'providerCommentUrl', '')
               )) AS result_json
        FROM tasks
        WHERE (${repoId}::uuid IS NULL OR repo_id = ${repoId}::uuid)
          AND (${robotId}::uuid IS NULL OR robot_id = ${robotId}::uuid)
          AND (${eventType}::text IS NULL OR event_type = ${eventType}::text)
          AND (${listAllArchived}::boolean = true OR (${listArchivedOnly}::boolean = true AND archived_at IS NOT NULL) OR (${listArchivedOnly}::boolean = false AND archived_at IS NULL))
          AND (${restrictAllowedRepoIds}::boolean = false OR repo_id = ANY(${allowedRepoIds}::uuid[]))
          AND status = ${status}::text
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Exploring scheduled tasks**

I need to check for existing scheduled tasks, possibly through something like `TaskGroup` or `adminTools`. I’ll start by searching for “cron” in the backend to see if there are any relevant entries. I looked previously, but maybe I overlooked an `adminTools` folder that could contain the scheduled tasks. So, I’ll take a quick look at the contents of `backend/src/adminTools` to see what’s there.
exec
/bin/zsh -lc 'ls -la backend/src/adminTools' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 95ms:
total 96
drwxr-xr-x  10 gaoruicheng  staff    320  1月 14 01:11 .
drwxr-xr-x  20 gaoruicheng  staff    640  1月 20 01:42 ..
-rw-r--r--   1 gaoruicheng  staff   3485  1月 14 01:11 auth.ts
-rw-r--r--   1 gaoruicheng  staff   1350  1月 14 01:11 config.ts
-rw-r--r--   1 gaoruicheng  staff   1392  1月 14 01:11 i18n.ts
-rw-r--r--   1 gaoruicheng  staff   3941  1月 14 01:11 openapi.ts
-rw-r--r--   1 gaoruicheng  staff   9977  1月 14 01:11 prismaStudioProxy.ts
-rw-r--r--   1 gaoruicheng  staff    995  1月 14 01:11 standalone.ts
-rw-r--r--   1 gaoruicheng  staff   3805  1月 14 01:11 startAdminTools.ts
-rw-r--r--   1 gaoruicheng  staff  10864  1月 14 01:11 swaggerApp.ts
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 




thinking
**Updating project phases**

I'm considering the tasks being created and whether we've followed the 2-action rule, which might be satisfied with our updates after many actions. Now, I’m thinking about crafting a response in Chinese that summarizes our structure and evaluation regarding the delayed execution. Before finalizing the response, it’s essential to update the plan statuses. Since we're in Phase 1 discovery, I might mark that complete and begin progress on Phase 2. I'll ensure everything is accurately reflected in our documentation.
thinking
**Updating plan statuses**

I'm considering how to update the file-based plan by marking checkboxes and statuses. While it's not as strict, I think I can manage it properly. We have steps laid out like scanning structure, locating the queue, evaluating, and delivering. Step 1 is done since we've scanned the structure. I want to mark Step 1 as completed and Step 2 as in progress, even though we've achieved more than Step 1. However, I need to be cautious about batching completions according to the rules. I'll proceed with those updates now.
thinking
**Sequencing updates**

I'm thinking about marking step 2 as completed in the next update and then moving to step 3 in progress. It seems like we could keep updating sequentially at different times, but I need to be cautious not to batch complete multiple items all at once. This means I can run several update calls in this turn to accurately reflect our progress. So, first, I’ll mark step 1 as completed and step 2 as in progress. Let's get started on that!
Plan update
  ✓ 扫描仓库目录结构
  → 定位队列与 Worker 代码
  • 评估延迟执行可行性
  • 记录发现并交付结论
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

Plan update
  ✓ 扫描仓库目录结构
  ✓ 定位队列与 Worker 代码
  → 评估延迟执行可行性
  • 记录发现并交付结论
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..a056c65eee76ed00272a6c4a8fd89371ed01cc12
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,7 +21,7 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
@@ -42,9 +42,10 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
+- [ ] Understand user intent (analysis only, no code changes)
+- [ ] Identify constraints/assumptions for "delayed execution"
+- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [ ] Document discoveries in findings.md
 - **Status:** in_progress
 <!-- 
   STATUS VALUES:
@@ -53,44 +54,40 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
 - **Status:** pending
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
+- [ ] N/A (analysis-only; no implementation or test execution)
 - **Status:** pending
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
+- [ ] N/A (analysis-only; no code delivery)
 - **Status:** pending
 
 ## Key Questions
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 



thinking
**Updating task statuses**

I'm in the process of finalizing our evaluations. Once I finish writing my response, I can mark step 3 as complete and proceed to step 4. Then, I plan to update the task plan status. 

I’ll open the task plan to patch statuses and check off Phase 1 tasks like understanding intent, locating modules, and documenting findings. Those are done, so I’ll mark them as complete. I'll also set Phase 2 to in-progress and note that Phase 3 is pending, while Phase 4 and 5 can be marked as N/A.
thinking
**Updating decisions and recommendations**

I need to update the decisions made table. I think it might be helpful to include a note about possibly using a DB-backed schedule with a new column, but that's not finalized since we still need to analyze it. 

I can definitely record this recommended approach in the table as a decision, even though we won’t be implementing it right now. So, let’s patch the table accordingly to keep everything organized!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -30,3 +30,3 @@
 -->
-Phase 1
+Phase 2
 
@@ -44,7 +44,7 @@
 -->
-- [ ] Understand user intent (analysis only, no code changes)
-- [ ] Identify constraints/assumptions for "delayed execution"
-- [ ] Locate relevant backend/frontend modules (queue/worker/scheduler)
-- [ ] Document discoveries in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
@@ -64,3 +64,3 @@
 - [ ] Document feasibility, trade-offs, and risks
-- **Status:** pending
+- **Status:** in_progress
 
@@ -82,3 +82,3 @@
 - [ ] N/A (analysis-only; no implementation or test execution)
-- **Status:** pending
+- **Status:** complete
 
@@ -90,3 +90,3 @@
 - [ ] N/A (analysis-only; no code delivery)
-- **Status:** pending
+- **Status:** complete
 
apply_patch(auto_approved=true) exited 0 in 56ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating progress document**

I need to make sure that progress.md reflects the phase changes properly. It currently has a placeholder title of "Phase 2: [Title]", so I should update it to include the actual title. I'll label it as in_progress and log the start time too. It feels essential to keep everything organized and clear. I’ll retrieve the current time so that I can make accurate records. Let's get this done!
exec
/bin/zsh -lc "date '+%Y-%m-%d %H:%M:%S %z'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 86ms:
2026-01-21 11:44:59 +0800
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..7dbe4fd200a5c99afe788d54c28221975741e9d7
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,14 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
 - **Status:** in_progress
-- **Started:** [timestamp]
+- **Started:** 2026-01-21 11:36:31 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +38,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,7 +53,9 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ### Phase 2: [Title]
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating progress documentation**

I'm thinking about how to update the progress.md file. For Phase 1, I can mark it as complete with a timestamp. For Phase 2, which is currently in progress, I should note the started time and the actions taken. We've actually completed some analysis for Phase 2, so I could mark it complete soon. First, I’ll update the progress with the current statuses and rename Phase 2 to “Architecture Review & Feasibility Analysis.” Let's get this done!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -26,4 +26,5 @@
 -->
-- **Status:** in_progress
+- **Status:** complete
 - **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
@@ -59,3 +60,3 @@
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
@@ -64,7 +65,10 @@
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 56ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..57039858775a9c172705fd4776991947143763fb
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -76,7 +82,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating feasibility analysis**

I think we should update our findings with options for a feasibility analysis. There's a section for Technical Decisions where I can recommend options, keeping in mind that the user expects an evaluation. 

It makes sense to store this in findings.md under Technical Decisions or Research Findings. I could structure it with a bullet list under "Feasibility assessment." Even though the template doesn't have that, I can add entries like "Prefer DB-level scheduling via new column `not_before`." I'll ensure everything is patched accordingly!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -59,3 +59,4 @@
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
apply_patch(auto_approved=true) exited 0 in 59ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 



thinking
**Confirming scheduling details**

I’m wrapping up the final conclusions but first need to make sure there isn't an existing task scheduler or cron job. I searched for "cron" and didn’t find anything, but I’ll check again for services or pipelines that might involve scheduling tasks, like `services/taskScheduler`. I just want to be thorough in confirming there's no “delay” mechanism. Now I need to prepare a detailed answer for the user regarding structure and delay viability, and since they use Chinese, I'll respond in that language.
thinking
**Analyzing project structure**

The user asked for an analysis of the project structure, which gives me the chance to provide insights into the top-level directories and their roles. I know we have a backend in NestJS, a frontend in Vite React, and additional directories like docs and docker. It’s also important to mention that the root package uses pnpm workspace. To confirm the workspace structure, I should inspect the root `package.json`. I’ll read through it to get the details right!
exec
/bin/zsh -lc 'cat package.json' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 92ms:
{
  "name": "hookcode",
  "private": true,
  "version": "0.1.0",
  "packageManager": "pnpm@9.6.0",
  "workspaces": [
    "backend",
    "frontend"
  ],
  "scripts": {
    "dev": "concurrently  \"pnpm dev:backend\" \"pnpm dev:frontend\"",
    "dev:backend": "ADMIN_TOOLS_EMBEDDED=false pnpm --filter hookcode-backend dev",
    "dev:tools": "pnpm --filter hookcode-backend dev:tools",
    "dev:worker": "pnpm --filter hookcode-backend dev:worker",
    "dev:frontend": "pnpm --filter hookcode-frontend dev",
    "dev:db": "docker compose -f docker/docker-compose.yml up db -d",
    "db:migrate": "pnpm --filter hookcode-backend db:migrate",
    "db:migrate:dev": "pnpm --filter hookcode-backend db:migrate:dev",
    "db:reset": "pnpm --filter hookcode-backend db:reset",
    "db:push": "pnpm --filter hookcode-backend db:push",
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Checking backend package scripts**

I'm confirming that the separate worker script is solid. Now, I’ll look into the backend package scripts to see how the worker starts. This means I'll likely need to view the `backend/package.json` file to gather more information. Understanding this will help me ensure everything is functioning as expected and clarify how the worker is incorporated into the overall system. Let's see what I find there!
exec
/bin/zsh -lc 'cat backend/package.json' in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 96ms:
{
  "name": "hookcode-backend",
  "version": "0.1.0",
  "private": true,
  "main": "dist/main.js",
  "license": "MIT",
  "scripts": {
    "dev": "nest start --watch",
    "dev:tools": "ts-node-dev --respawn --transpile-only src/adminTools/standalone.ts",
    "dev:worker": "WORKER_PREFERRED=true ts-node-dev --respawn --transpile-only src/worker.ts",
    "start:dev": "nest start --watch",
    "build": "node scripts/prisma-run.js generate && tsc -p tsconfig.json",
    "prisma:generate": "node scripts/prisma-run.js generate",
    "db:migrate": "node scripts/prisma-run.js migrate deploy",
    "db:migrate:dev": "node scripts/prisma-run.js migrate dev",
    "db:reset": "node scripts/prisma-run.js migrate reset --force",
    "db:push": "node scripts/prisma-run.js db push",
    "db:pull": "node scripts/prisma-run.js db pull",
    "db:studio": "node scripts/prisma-run.js studio",
    "db:status": "node scripts/prisma-run.js migrate status",
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 






thinking
**Evaluating worker query implementation**

I've been thinking about filtering for the worker query. One approach could be to implement a delay by not enqueuing tasks and instead storing them in a separate table or scheduling them. 

There’s also `WORKER_POLL_INTERVAL_MS` to consider as a rough guideline. I can structure the response with a summary of the repo and task execution flow, including details about the backend setup with NestJS, Prisma, and Postgres, as well as the frontend built with Vite and React. Let's continue!
thinking
**Assessing queue feasibility**

I'm considering the feasibility of implementing delayed execution in a database-backed queue. This could involve adding a `run_at` column for persistence and filtering tasks accordingly. The implementation complexity is moderate, requiring database migrations, backend changes, and possibly UI updates for scheduled tasks. 

For recommendations, a minimal approach would be to add the `runAt` column and retain the queued status, while a more explicit approach might involve introducing a 'scheduled' status, which would necessitate UI changes. I'll also mention that if there's no dedicated worker, delayed tasks might not run, similar to queued tasks.
thinking
**Finalizing documentation updates**

I'm making sure we don’t modify any code since we've already updated the documentation. Now, I’m considering whether to update the plan documents after finishing Phase 2 and 3. It seems like marking both phases as complete and treating the response as recommendations for Phase 3 might be the way to go. 

I'll create a final evaluation summary in the docs, possibly adding a "Feasibility Summary" section in findings.md. Even though the user didn't explicitly ask, it’s part of the workflow to keep everything updated, so I’ll proceed with that.
thinking
**Updating progress tracking**

I need to mark Phase 2 as complete and decide on the status for Phase 3. We might label Phase 3 as "in progress" while delivering the response, which seems fine. I’ll update the task plan to check off completed tasks for Phase 2 and deliver recommended options for Phase 3, marking those as complete afterward.

While I could update the files now, it might be better to do it after the final response to ensure everything aligns. For now, I'll patch the task plan to reflect completed tasks for both phases and consider updating the Decisions table, though that’s optional.
thinking
**Setting current phase status**

I’m deciding to set the current phase to Phase 3 and once everything is complete, possibly mark it as "Done" later. To avoid confusion, I’ll keep it at "Phase 3" until we finish everything, then update it to "Complete." 

After crafting the response, I'll check if a changelog update is needed, as the workflow requires documentation updates after each task. While the user mainly asked for analysis, it sounds like we should include an entry since the instructions indicate it’s necessary. I'll inspect the changelog format to add a new bullet point.
exec
/bin/zsh -lc "sed -n '1,120p' docs/en/change-log/0.0.0.md" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 89ms:
# 0.0.0

## Changes
- Add repo onboarding wizard (first-entry, skippable), repo URL-based creation, full-width repo detail layout, and improved create/visibility UX (no webhook popup + anonymous visibility detect). ([58w1q3n5nr58flmempxe](../developer/plans/58w1q3n5nr58flmempxe/task_plan.md))

- Refactor planning-with-files to store plans in hash folders and link changes via hash comments. ([sddsa89612jk4hbwas678](../developer/plans/sddsa89612jk4hbwas678/task_plan.md))

- Enforce planning-with-files workflow and SESSION_HASH traceability in AGENTS.md. ([0lldjnbw5qxdhw4wwftz](../developer/plans/0lldjnbw5qxdhw4wwftz/task_plan.md))

- Fix CI Live logs 404 by enabling task logs in CI and guarding the UI via `/auth/me` feature flags. ([0nazpc53wnvljv5yh7c6](../developer/plans/0nazpc53wnvljv5yh7c6/task_plan.md))

- Split task logs config into DB persistence vs user visibility (CI: persist on, visible off). ([nykx5svtlgh050cstyht](../developer/plans/nykx5svtlgh050cstyht/task_plan.md))

- Redesign Task detail page layout (full-width + summary strip + Steps workflow). ([tdlayout20260117k8p3](../developer/plans/tdlayout20260117k8p3/task_plan.md))

- Task detail: make top summary strip wrap (no horizontal scroll). ([tdstripwrap20260117b5m7](../developer/plans/tdstripwrap20260117b5m7/task_plan.md))

- Frontend: replace loading placeholders with skeleton screens and enforce Skeleton usage for waiting states. ([ro3ln7zex8d0wyynfj0m](../developer/plans/ro3ln7zex8d0wyynfj0m/task_plan.md))

- Task detail: make summary cards equal height per row. ([tdsummaryequalh20260117v2n9](../developer/plans/tdsummaryequalh20260117v2n9/task_plan.md))
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "nl -ba backend/src/worker.ts | sed -n '1,120p'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 98ms:
     1	/**
     2	 * Standalone Worker process entry (no HTTP):
     3	 * - Started via `dev:worker` / `start:worker` in `backend/package.json`, or via the docker-compose worker service.
     4	 * - Polls the DB queue (see `backend/src/services/taskService.ts`) and consumes tasks serially via `backend/src/services/taskRunner.ts`.
     5	 * - On startup, recovers "stuck" processing tasks (avoids tasks being permanently stuck in processing after API/worker restarts);
     6	 *   see `TaskService.recoverStaleProcessing`.
     7	 * - The Webhook/API process can also trigger an inline worker (see INLINE_WORKER_ENABLED in `backend/src/routes/webhook.ts` and `backend/src/routes/tasks.ts`).
     8	 */
     9	import dotenv from 'dotenv';
    10	import type { INestApplicationContext } from '@nestjs/common';
    11	import { NestFactory } from '@nestjs/core';
    12	import { ensureSchema, closeDb } from './db';
    13	import { TaskRunner } from './modules/tasks/task-runner.service';
    14	import { TaskService } from './modules/tasks/task.service';
    15	import { WorkerModule } from './modules/worker/worker.module';
    16	import { isPreferredWorkerPresent, tryAcquirePreferredWorkerLock, type PreferredWorkerLockHandle } from './services/workerPriority';
    17	
    18	dotenv.config();
    19	
    20	// Help diagnose "silent exits" (e.g., signal termination, unexpected promise rejections).
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Planning query adjustments**

I realize we have lines for the poll interval, which is great. Now, I need to focus on getting the line numbers for the `takeNextQueued` query. I should check around line 1180 in `task.service`. It seems using `nl -ba` between the lines 1180 and 1240 will help me with this. I’ll keep this organized as I continue working on the task!
exec
/bin/zsh -lc "nl -ba backend/src/modules/tasks/task.service.ts | sed -n '1160,1245p'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 99ms:
  1160	  async patchResult(id: string, patch: Partial<TaskResult>, status?: TaskStatus): Promise<Task | undefined> {
  1161	    const now = new Date();
  1162	    const statusValue = status ?? null;
  1163	    const patchJson = JSON.stringify(patch ?? {});
  1164	    const rows = await db.$queryRaw<any[]>`
  1165	      UPDATE tasks
  1166	      SET result_json = COALESCE(result_json, '{}'::jsonb) || ${patchJson}::jsonb,
  1167	          status = COALESCE(${statusValue}::text, status),
  1168	          updated_at = ${now}
  1169	      WHERE id = ${id}
  1170	      RETURNING *;
  1171	    `;
  1172	
  1173	    return rows?.[0] ? rowToTaskFromSql(rows[0]) : undefined;
  1174	  }
  1175	
  1176	  async retryTask(id: string): Promise<Task | undefined> {
  1177	    const now = new Date();
  1178	    try {
  1179	      const row = await db.task.update({
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "nl -ba backend/prisma/schema.prisma | sed -n '1,70p'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 99ms:
     1	generator client {
     2	  provider = "prisma-client-js"
     3	}
     4	
     5	datasource db {
     6	  provider = "postgresql"
     7	  url      = env("DATABASE_URL")
     8	}
     9	
    10	model Task {
    11	  id           String   @id @db.Uuid
    12	  groupId      String?  @map("group_id") @db.Uuid
    13	  eventType    String   @map("event_type")
    14	  status       String
    15	  archivedAt   DateTime? @map("archived_at") @db.Timestamptz(6)
    16	  payload      Json?    @map("payload_json") @db.JsonB
    17	  promptCustom String?  @map("prompt_custom")
    18	  title        String?
    19	  projectId    Int?     @map("project_id")
    20	  repoProvider String?  @map("repo_provider")
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "nl -ba backend/src/modules/webhook/webhook.handlers.ts | sed -n '880,940p'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 102ms:
   880	      return respond(202, { skipped: true, reason: 'event not supported' }, { result: 'skipped', message: 'event not supported' });
   881	    }
   882	    const eventType = mapped.eventType;
   883	    const payload = { ...req.body, __subType: mapped.subType };
   884	
   885	    const { allowed, reason } = canCreateGitlabAutomationTask(eventType, payload, robots);
   886	    console.log('[webhook] gitlab repo', repoId, 'event', eventType, 'allowed:', allowed, reason ? `reason: ${reason}` : '');
   887	    if (!allowed) {
   888	      return respond(202, { skipped: true, reason }, { result: 'skipped', message: reason });
   889	    }
   890	
   891	    const automationConfig = await repoAutomationService.getConfig(repoId);
   892	    const actions = resolveAutomationActions({
   893	      eventType,
   894	      payload,
   895	      robots,
   896	      config: automationConfig,
   897	      repo: repoAuth.repo
   898	    });
   899	    if (!actions.length) {
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..8aea80e1d1a24f94379a7eaba8d9fc8c4ac480c6
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,12 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +57,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +83,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 




thinking
**Evaluating frontend and backend structure**

I need to get line numbers for the frontend tasks page statuses and reference `frontend/src/pages/TasksPage.tsx`. To do this, I can gather actual line numbers with the `nl` command. The user also asked for an analysis of the project structure, so I should break it down into major modules, mentioning key entry points for the backend. I'll evaluate implementing delays in task handling and how they can install minimal modifications in the current design.
thinking
**Finalizing project evaluation**

I need to ensure that I’m not proposing any code modifications; I’ll just mention them as necessary. The user seems to want a high-level evaluation, including sections like project structure, the current task execution flow, and feasibility assessments for delayed execution. I'll craft this in Chinese using bullet points while keeping it concise yet informative. After that, I need to finalize the plan documents and changelog, updating progress for each completed phase or milestone.
thinking
**Updating research findings**

I’ve already made some technical decisions, and now it's time to add to the Research Findings section. I'll include a bullet point mentioning that delaying tasks requires a database migration, like adding a "not_before" column and making necessary UI adjustments. This will be a helpful addition to clarify feasibility. I’ll make sure to patch the findings.md document accordingly and ensure everything is organized nicely at the bottom of the section.
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -46,2 +46,3 @@
 - Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 69ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating progress documentation**

I’m working on updating progress.md, particularly Phase 2, which might still be in progress. I think it’s best to mark Phase 2 as complete now and add the completed timestamp. Then, I’ll set up Phase 3 for delivery. I’ll also need to get the current time—ah, it's 11:??. I should probably double-check today's date again to ensure everything is accurate as I update the progress accordingly.
exec
/bin/zsh -lc "date '+%Y-%m-%d %H:%M:%S %z'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 99ms:
2026-01-21 11:47:50 +0800
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..24901a3e9450a0acc39aa9eb026776af9981897f
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,23 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:44:59 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating progress status**

I’m noting that Phase 2 is complete, so that’s good news! For Phase 3, I see that we’re working on “Recommendations & Delivery.” I think it’s time to update the progress document to reflect this latest status. I’ll make sure everything is properly logged and organized. It helps keep everything on track and clear for future reference. So, let’s go ahead and patch that progress.md!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -65,4 +65,5 @@
 -->
-- **Status:** in_progress
+- **Status:** complete
 - **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
@@ -73,2 +74,11 @@
   - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 72ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..f8543e8e8385b263d1d88bba59ab463bcf6431be
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,33 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..f8543e8e8385b263d1d88bba59ab463bcf6431be
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,33 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4f720f83638e1824ed624f30172db06dab7a71f5
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 2
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [ ] Document feasibility, trade-offs, and risks
+- **Status:** in_progress
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
 - **Status:** pending
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating task plans**

I need to update the task plan for Phase 2, making sure everything is completed before moving on to Phase 3. I’ll check on the progress and make necessary adjustments. It's essential that I keep things organized so we can patch any issues as they come up! This way, everything should flow smoothly into the next phase. Clear steps are critical for success, so let's ensure I'm on top of it!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -30,3 +30,3 @@
 -->
-Phase 2
+Phase 3
 
@@ -61,6 +61,6 @@
 -->
-- [ ] Map the existing execution flow (webhook → enqueue → worker → callback)
-- [ ] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
-- [ ] Document feasibility, trade-offs, and risks
-- **Status:** in_progress
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
@@ -74,3 +74,3 @@
 - [ ] Provide acceptance criteria for delayed execution behavior
-- **Status:** pending
+- **Status:** in_progress
 
apply_patch(auto_approved=true) exited 0 in 53ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..f8543e8e8385b263d1d88bba59ab463bcf6431be
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,33 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4c59de9c87847beab11250dc84234eed30a2d527
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 3
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
+- **Status:** in_progress
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..f8543e8e8385b263d1d88bba59ab463bcf6431be
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,33 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4c59de9c87847beab11250dc84234eed30a2d527
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 3
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
+- **Status:** in_progress
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/change-log/0.0.0.md
@@ -60 +60,3 @@
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
apply_patch(auto_approved=true) exited 0 in 68ms:
Success. Updated the following files:
M docs/en/change-log/0.0.0.md
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..f8543e8e8385b263d1d88bba59ab463bcf6431be
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,33 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4c59de9c87847beab11250dc84234eed30a2d527
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 3
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
+- **Status:** in_progress
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..f8543e8e8385b263d1d88bba59ab463bcf6431be
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,33 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4c59de9c87847beab11250dc84234eed30a2d527
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 3
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
+- **Status:** in_progress
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating progress files**

I need to update progress.md to reflect that the changelog file has been modified. Right now, the Phase3 file list only mentions progress, so I’ll include the changelog file too. I’ll make sure we patch the progress accordingly. Also, it’s important to record in the Phase3 actions that we updated the changelog. So, let’s tackle this and get everything patched!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -81,4 +81,6 @@
   - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
 - Files created/modified:
   - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
apply_patch(auto_approved=true) exited 0 in 71ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..419a38afef4748adf797eb1439f56fe01ee66898
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,35 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4c59de9c87847beab11250dc84234eed30a2d527
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 3
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
+- **Status:** in_progress
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..419a38afef4748adf797eb1439f56fe01ee66898
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,35 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..4c59de9c87847beab11250dc84234eed30a2d527
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Phase 3
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [ ] List required code touchpoints (files/modules) for each option
+- [ ] Provide acceptance criteria for delayed execution behavior
+- **Status:** in_progress
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Finalizing task updates**

I need to update the task plan's Phase 5 change log to mark it as complete, but it's already been noted as complete previously. The change log is updated, and that’s fine. Now, I’ll finalize the checkboxes for Phase 3 tasks in the task plan. After delivering the response, I can mark everything as complete and set the current phase to "Complete." I think I can go ahead and do that now!
file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -30,3 +30,3 @@
 -->
-Phase 3
+Complete
 
@@ -71,6 +71,6 @@
 -->
-- [ ] Provide recommended implementation options (minimal change vs. robust scheduler)
-- [ ] List required code touchpoints (files/modules) for each option
-- [ ] Provide acceptance criteria for delayed execution behavior
-- **Status:** in_progress
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
apply_patch(auto_approved=true) exited 0 in 69ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..419a38afef4748adf797eb1439f56fe01ee66898
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,35 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..419a38afef4748adf797eb1439f56fe01ee66898
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,35 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

exec
/bin/zsh -lc "date '+%Y-%m-%d %H:%M:%S %z'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 103ms:
2026-01-21 11:49:12 +0800
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..419a38afef4748adf797eb1439f56fe01ee66898
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,35 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
+- Actions taken:
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** in_progress
+- **Started:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update
M /Users/gaoruicheng/Documents/Github/hookvibe/hookcode/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -77,4 +77,5 @@
 ### Phase 3: Recommendations & Delivery
-- **Status:** in_progress
+- **Status:** complete
 - **Started:** 2026-01-21 11:47:50 +0800
+- **Completed:** 2026-01-21 11:49:12 +0800
 - Actions taken:
apply_patch(auto_approved=true) exited 0 in 78ms:
Success. Updated the following files:
M docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..2802afdf87e46dc4d3d505794a8badbc86dec2a4
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,36 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** complete
+- **Started:** 2026-01-21 11:47:50 +0800
+- **Completed:** 2026-01-21 11:49:12 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..2802afdf87e46dc4d3d505794a8badbc86dec2a4
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,36 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** complete
+- **Started:** 2026-01-21 11:47:50 +0800
+- **Completed:** 2026-01-21 11:49:12 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Updating progress status**

I'm currently planning on updating the tool status for the steps. I've already completed step 3, and now I'm in the process of step 4, which is about delivering the conclusion. I need to ensure that I maintain the statuses correctly before sending the final message to the user. So, I'll go ahead and mark step 3 as completed and note that step 4 is in progress.
Plan update
  ✓ 扫描仓库目录结构
  ✓ 定位队列与 Worker 代码
  ✓ 评估延迟执行可行性
  → 记录发现并交付结论
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..2802afdf87e46dc4d3d505794a8badbc86dec2a4
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,36 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** complete
+- **Started:** 2026-01-21 11:47:50 +0800
+- **Completed:** 2026-01-21 11:49:12 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Finalizing the response**

I'm marking this task as completed since I've prepared the conclusion. I feel good about delivering the final response now. It's all set, and I can update everything accordingly. So let's wrap this up and see it all come together!
Plan update
  ✓ 扫描仓库目录结构
  ✓ 定位队列与 Worker 代码
  ✓ 评估延迟执行可行性
  ✓ 记录发现并交付结论
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..2802afdf87e46dc4d3d505794a8badbc86dec2a4
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,36 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** complete
+- **Started:** 2026-01-21 11:47:50 +0800
+- **Completed:** 2026-01-21 11:49:12 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 


thinking
**Confirming file references**

I need to make sure that each file reference includes the starting line number. We mentioned `package.json:1`, but we didn't compute line numbers, so it’s good we plan to include them. For instance, `frontend/src/pages/TasksPage.tsx:30` seems accurate from our search, but I'll verify the actual line number just to be cautious. The line numbers might shift, so I'll check them with `nl` to ensure everything is correct. Let's view the file and confirm!
exec
/bin/zsh -lc "nl -ba frontend/src/pages/TasksPage.tsx | sed -n '1,80p'" in /Users/gaoruicheng/Documents/Github/hookvibe/hookcode succeeded in 86ms:
     1	import { FC, useCallback, useEffect, useMemo, useState, type ReactNode } from 'react';
     2	import { App, Button, Card, Empty, Input, Skeleton, Space, Tag, Tooltip, Typography } from 'antd';
     3	import { PlayCircleOutlined, ReloadOutlined, SearchOutlined } from '@ant-design/icons';
     4	import type { Task, TaskStatus, TaskStatusStats } from '../api';
     5	import { fetchTaskStats, fetchTasks, retryTask } from '../api';
     6	import { useLocale, useT } from '../i18n';
     7	import { buildTaskHash, buildTasksHash } from '../router';
     8	import { clampText, getTaskTitle, queuedHintText, statusTag } from '../utils/task';
     9	import { PageNav } from '../components/nav/PageNav';
    10	import { CardListSkeleton } from '../components/skeletons/CardListSkeleton';
    11	
    12	/**
    13	 * TasksPage:
    14	 * - Business context: list tasks for quick navigation from the Home sidebar.
    15	 * - Scope (migration step 1): support status filter via hash query (`#/tasks?status=...`) and navigation to task detail.
    16	 * - Extension: support repo-scoped lists via `#/tasks?repoId=...` for deep-links from repo dashboards. aw85xyfsp5zfg6ihq3jr
    17	 *
    18	 * Change record:
    19	 * - 2026-01-11: Added for `frontend-chat` to replace legacy task list navigation.
    20	 * - 2026-01-11: Replace deprecated AntD `List` with a card list to avoid runtime warnings and match the chat-first visual style.
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..2802afdf87e46dc4d3d505794a8badbc86dec2a4
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,36 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** complete
+- **Started:** 2026-01-21 11:47:50 +0800
+- **Completed:** 2026-01-21 11:49:12 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

codex
**项目结构**
- `package.json:1`：pnpm workspace，核心包是 `backend/`（服务端）+ `frontend/`（控制台 UI）；另有 `docker/`、`docs/`、`happy/`
- 后端（NestJS + Prisma/Postgres）：HTTP/Webhook + 后台 Worker；Worker 入口 `backend/src/worker.ts:1`
- 前端（Vite/React）：任务列表/状态、队列诊断提示等；例如 `frontend/src/pages/TasksPage.tsx:30`

**现有任务执行链路**
- Webhook 入站创建任务并可触发 inline worker：`backend/src/modules/webhook/webhook.handlers.ts:891`
- Worker 轮询 DB 队列：`backend/src/worker.ts:47`（`WORKER_POLL_INTERVAL_MS` 默认 2000ms）
- “队列”本质是 `tasks` 表：`backend/src/modules/tasks/task.service.ts:1194` 用 `FOR UPDATE SKIP LOCKED` 领取 `status='queued'` 的一条并置为 `processing`

**延迟执行可行性**
- 现状：`Task` 模型没有 `run_at/not_before` 之类字段（`backend/prisma/schema.prisma:10`），`takeNextQueued()` 也没有按时间过滤，所以目前不支持真正的“定时/延迟”
- 可行（推荐最小改动思路）：在 `tasks` 增加 `not_before/run_at`(timestamptz) 并在领取 SQL 增加 `AND not_before <= now`；延迟精度≈轮询间隔（`backend/src/worker.ts:47`）
- 影响面：需要同步调整“queued 诊断/统计/列表”（否则未到期任务会被当作 queued 卡住）；若新增 `scheduled` 状态则需要前端同步扩展状态枚举与文案（`frontend/src/pages/TasksPage.tsx:30`）

如果你希望我下一步把“延迟执行”真正实现，你更偏向“最小改动（加时间字段，不新增状态）”还是“显式 scheduled 状态 + UI 展示”？
file update:
diff --git a/docs/en/change-log/0.0.0.md b/docs/en/change-log/0.0.0.md
index ccbe09d04df30fcfc911bcfe31ee01ac4b39c6f3..76be6b2ddd29a0b1ecd245767605a8d1fcda914e
--- a/docs/en/change-log/0.0.0.md
+++ b/docs/en/change-log/0.0.0.md
@@ -58,3 +58,5 @@
 - Add repo/task archiving (backend cascade + Archive page + sidebar entry), enforce archived repos as read-only, and refine Archive repo cards (Archived badge + View-only wording). ([qnp1mtxhzikhbi0xspbc](../developer/plans/qnp1mtxhzikhbi0xspbc/task_plan.md))
 
 - Analyze feasibility of migrating `happy/` tool/diff views into `frontend/` to replace the live task log viewer (analysis only). ([yjlphd6rbkrq521ny796](../developer/plans/yjlphd6rbkrq521ny796/task_plan.md))
+
+- Analyze feasibility of delayed/scheduled task execution in the DB-backed worker queue (analysis only). ([80f8nubdsqd476btx0sp](../developer/plans/80f8nubdsqd476btx0sp/task_plan.md))
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
index e64c37003676016ac43bebaff3df8a2dde350204..1813dd7524de5fd39f06cb282b19486d603b8f34
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md
@@ -24,7 +24,8 @@
     - Python implementation
 -->
 <!-- Captured from user request -->
--
+- Analyze the repository structure (frontend/backend/docs/etc.) and identify task execution components. <!-- Capture user requirements for analysis-only scope. 80f8nubdsqd476btx0sp -->
+- Do not modify business code; provide feasibility assessment for delayed/scheduled task execution only. 80f8nubdsqd476btx0sp
 
 ## Research Findings
 <!-- 
@@ -37,7 +38,13 @@
     - Standard pattern: python script.py <command> [args]
 -->
 <!-- Key discoveries during exploration -->
--
+- Backend uses a DB-backed queue pattern: tasks live in Postgres (`tasks` table) and a standalone worker polls + claims rows. <!-- Summarize the core architecture affecting delayed execution. 80f8nubdsqd476btx0sp -->
+- Worker entrypoint: `backend/src/worker.ts` polls every `WORKER_POLL_INTERVAL_MS` (default 2000ms) and calls `TaskRunner.trigger()`. 80f8nubdsqd476btx0sp
+- Queue consumption: `TaskRunner` calls `TaskService.takeNextQueued()` which claims one task via SQL `FOR UPDATE SKIP LOCKED` and sets status to `processing`. 80f8nubdsqd476btx0sp
+- Current schema has no scheduling fields (no `runAt`/`notBefore` column) in `backend/prisma/schema.prisma` `model Task`. 80f8nubdsqd476btx0sp
+- Inline worker mode exists: webhook/API processes may call `taskRunner.trigger()` when `INLINE_WORKER_ENABLED` is truthy. 80f8nubdsqd476btx0sp
+- Frontend assumes task statuses are limited to `queued|processing|succeeded|failed|commented` (adding a new `scheduled` status would require UI changes). 80f8nubdsqd476btx0sp
+- Delayed/scheduled execution is feasible but not implemented: it would require at least (a) a new scheduling timestamp field in DB or an equivalent encoding, and (b) aligning worker claim + queued diagnosis/stats to avoid misleading "queued" UX. 80f8nubdsqd476btx0sp
 
 ## Technical Decisions
 <!-- 
@@ -51,7 +58,8 @@
 <!-- Decisions made with rationale -->
 | Decision | Rationale |
 |----------|-----------|
-|          |           |
+| Prefer a DB-native scheduling field (e.g., `not_before`/`run_at`) over an external queue for delayed execution | The system already uses Postgres as the durable queue; adding a timestamp filter in `takeNextQueued()` is the smallest conceptual change while keeping crash recovery and SKIP LOCKED semantics. 80f8nubdsqd476btx0sp |
+| Avoid introducing a new task status unless the UI must distinguish "scheduled" from "queued" | Frontend currently hardcodes status sets; adding `scheduled` increases blast radius across stats, filters, and i18n, while a `not_before` field can support delay with fewer UI changes (but needs better queued diagnosis). 80f8nubdsqd476btx0sp |
 
 ## Issues Encountered
 <!-- 
@@ -76,7 +84,12 @@
     - Project structure: src/main.py, src/utils.py
 -->
 <!-- URLs, file paths, API references -->
--
+- `backend/src/worker.ts` (worker polling loop and process model) <!-- Key entrypoint for queue consumption. 80f8nubdsqd476btx0sp -->
+- `backend/src/modules/tasks/task-runner.service.ts` (serial consumer that executes tasks) 80f8nubdsqd476btx0sp
+- `backend/src/modules/tasks/task.service.ts` (`takeNextQueued()` SQL claim; task creation APIs) 80f8nubdsqd476btx0sp
+- `backend/prisma/schema.prisma` (`Task` table definition) 80f8nubdsqd476btx0sp
+- `backend/src/modules/webhook/webhook.handlers.ts` (webhook enqueues tasks; inline worker trigger) 80f8nubdsqd476btx0sp
+- `frontend/src/pages/TasksPage.tsx` (status filter + queued diagnosis rendering) 80f8nubdsqd476btx0sp
 
 ## Visual/Browser Findings
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
index b0cf07c8c5d0c23ed6fe77c44b8ff378e8c8811e..2802afdf87e46dc4d3d505794a8badbc86dec2a4
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md
@@ -18,14 +18,15 @@
   EXAMPLE: 2026-01-15
 -->
 
-### Phase 1: [Title]
+### Phase 1: Requirements & Discovery
 <!-- 
   WHAT: Detailed log of actions taken during this phase.
   WHY: Provides context for what was done, making it easier to resume or debug.
   WHEN: Update as you work through the phase, or at least when you complete it.
 -->
-- **Status:** in_progress
-- **Started:** [timestamp]
+- **Status:** complete
+- **Started:** 2026-01-21 11:36:31 +0800
+- **Completed:** 2026-01-21 11:44:59 +0800
 <!-- 
   STATUS: Same as task_plan.md (pending, in_progress, complete)
   TIMESTAMP: When you started this phase (e.g., "2026-01-15 10:00")
@@ -38,7 +39,12 @@
       - Implemented add functionality
       - Fixed FileNotFoundError
   -->
-  -
+  - Initialized planning session folder `docs/en/developer/plans/80f8nubdsqd476btx0sp/`. <!-- Log non-code work for traceability. 80f8nubdsqd476btx0sp -->
+  - Listed repository root to confirm top-level components. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/src/worker.ts`, `backend/src/modules/tasks/task-runner.service.ts`, and `backend/src/modules/tasks/task.service.ts` to map queue claim logic. 80f8nubdsqd476btx0sp
+  - Reviewed `backend/prisma/schema.prisma` to confirm task table has no scheduling fields today. 80f8nubdsqd476btx0sp
+  - Reviewed webhook enqueue flow (`backend/src/modules/webhook/webhook.handlers.ts`) and noted INLINE_WORKER trigger behavior. 80f8nubdsqd476btx0sp
+  - Searched frontend for task status assumptions to estimate UI impact of adding a new scheduled state. 80f8nubdsqd476btx0sp
 - Files created/modified:
   <!-- 
     WHAT: Which files you created or changed.
@@ -48,18 +54,36 @@
       - todos.json (created by app)
       - task_plan.md (updated)
   -->
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Update plan scope to analysis-only. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
 
-### Phase 2: [Title]
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Same structure as Phase 1, for the next phase.
   WHY: Keep a separate log entry for each phase to track progress clearly.
 -->
-- **Status:** pending
+- **Status:** complete
+- **Started:** 2026-01-21 11:44:59 +0800
+- **Completed:** 2026-01-21 11:47:50 +0800
 - Actions taken:
-  -
+  - Identified current queue claim query (`takeNextQueued`) and confirmed it is status-based without scheduling constraints. <!-- Record feasibility findings for delayed execution. 80f8nubdsqd476btx0sp -->
+  - Assessed likely implementation options (DB column vs JSON field vs external queue) and mapped expected blast radius (backend + UI). 80f8nubdsqd476btx0sp
 - Files created/modified:
-  -
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md` (modified) <!-- Phase status updates. 80f8nubdsqd476btx0sp -->
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/findings.md` (modified) 80f8nubdsqd476btx0sp
+
+### Phase 3: Recommendations & Delivery
+- **Status:** complete
+- **Started:** 2026-01-21 11:47:50 +0800
+- **Completed:** 2026-01-21 11:49:12 +0800
+- Actions taken:
+  - Prepared a feasibility summary for delayed/scheduled task execution and identified the minimal-change path in the current DB-queue architecture. <!-- Delivery phase for user-facing conclusions. 80f8nubdsqd476btx0sp -->
+  - Appended an "analysis only" entry to the changelog for traceability. 80f8nubdsqd476btx0sp
+- Files created/modified:
+  - `docs/en/developer/plans/80f8nubdsqd476btx0sp/progress.md` (modified) 80f8nubdsqd476btx0sp
+  - `docs/en/change-log/0.0.0.md` (modified) 80f8nubdsqd476btx0sp
 
 ## Test Results
 <!-- 
diff --git a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
index bae958ab79771e87a9df3f85401983f669836c6a..f5839e22377ef396e3114ab7b42c32dd697d481e
--- a/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
+++ b/docs/en/developer/plans/80f8nubdsqd476btx0sp/task_plan.md
@@ -21,14 +21,14 @@
   WHY: This is your north star. Re-reading this keeps you focused on the end state.
   EXAMPLE: "Create a Python CLI todo app with add, list, and delete functionality."
 -->
-[One sentence describing the end state]
+Assess the current backend task execution pipeline and determine whether (and how) it can support delayed/scheduled execution without changing code in this session. <!-- Clarify scope as analysis-only and focus on delay feasibility. 80f8nubdsqd476btx0sp -->
 
 ## Current Phase
 <!-- 
   WHAT: Which phase you're currently working on (e.g., "Phase 1", "Phase 3").
   WHY: Quick reference for where you are in the task. Update this as you progress.
 -->
-Phase 1
+Complete
 
 ## Phases
 <!-- 
@@ -42,10 +42,11 @@
   WHAT: Understand what needs to be done and gather initial information.
   WHY: Starting without understanding leads to wasted effort. This phase prevents that.
 -->
-- [ ] Understand user intent
-- [ ] Identify constraints and requirements
-- [ ] Document findings in findings.md
-- **Status:** in_progress
+- [x] Understand user intent (analysis only, no code changes)
+- [x] Identify constraints/assumptions for "delayed execution"
+- [x] Locate relevant backend/frontend modules (queue/worker/scheduler)
+- [x] Document discoveries in findings.md
+- **Status:** complete
 <!-- 
   STATUS VALUES:
   - pending: Not started yet
@@ -53,45 +54,41 @@
   - complete: Finished this phase
 -->
 
-### Phase 2: Planning & Structure
+### Phase 2: Architecture Review & Feasibility Analysis
 <!-- 
   WHAT: Decide how you'll approach the problem and what structure you'll use.
   WHY: Good planning prevents rework. Document decisions so you remember why you chose them.
 -->
-- [ ] Define technical approach
-- [ ] Create project structure if needed
-- [ ] Document decisions with rationale
-- **Status:** pending
+- [x] Map the existing execution flow (webhook → enqueue → worker → callback)
+- [x] Identify where delay can be introduced (queue-native delay, scheduler, cron, DB polling)
+- [x] Document feasibility, trade-offs, and risks
+- **Status:** complete
 
-### Phase 3: Implementation
+### Phase 3: Recommendations & Delivery
 <!-- 
   WHAT: Actually build/create/write the solution.
   WHY: This is where the work happens. Break into smaller sub-tasks if needed.
 -->
-- [ ] Execute the plan step by step
-- [ ] Write code to files before executing
-- [ ] Test incrementally
-- **Status:** pending
+- [x] Provide recommended implementation options (minimal change vs. robust scheduler)
+- [x] List required code touchpoints (files/modules) for each option
+- [x] Provide acceptance criteria for delayed execution behavior
+- **Status:** complete
 
-### Phase 4: Testing & Verification
+### Phase 4: Testing & Verification (N/A in this session)
 <!-- 
   WHAT: Verify everything works and meets requirements.
   WHY: Catching issues early saves time. Document test results in progress.md.
 -->
-- [ ] Verify all requirements met
-- [ ] Document test results in progress.md
-- [ ] Fix any issues found
-- **Status:** pending
+- [ ] N/A (analysis-only; no implementation or test execution)
+- **Status:** complete
 
-### Phase 5: Delivery
+### Phase 5: Change Log Update (N/A in this session)
 <!-- 
   WHAT: Final review and handoff to user.
   WHY: Ensures nothing is forgotten and deliverables are complete.
 -->
-- [ ] Review all output files
-- [ ] Ensure deliverables are complete
-- [ ] Deliver to user
-- **Status:** pending
+- [ ] N/A (analysis-only; no code delivery)
+- **Status:** complete
 
 ## Key Questions
 <!-- 
@@ -101,8 +98,10 @@
     1. Should tasks persist between sessions? (Yes - need file storage)
     2. What format for storing tasks? (JSON file)
 -->
-1. [Question to answer]
-2. [Question to answer]
+1. What queue/task mechanism is used today (in-memory, Redis, DB, or external MQ), and where is it defined? <!-- Track key questions that drive the repo exploration. 80f8nubdsqd476btx0sp -->
+2. Does the current mechanism support delayed/scheduled jobs natively (e.g., delay field / scheduled timestamp)? 80f8nubdsqd476btx0sp
+3. If not, what is the smallest safe place to add delay (enqueue-time vs. worker-time vs. scheduler service)? 80f8nubdsqd476btx0sp
+4. What persistence and idempotency guarantees exist (crash recovery, retries, dedup)? 80f8nubdsqd476btx0sp
 
 ## Decisions Made
 <!-- 

tokens used
100,192
**项目结构**
- `package.json:1`：pnpm workspace，核心包是 `backend/`（服务端）+ `frontend/`（控制台 UI）；另有 `docker/`、`docs/`、`happy/`
- 后端（NestJS + Prisma/Postgres）：HTTP/Webhook + 后台 Worker；Worker 入口 `backend/src/worker.ts:1`
- 前端（Vite/React）：任务列表/状态、队列诊断提示等；例如 `frontend/src/pages/TasksPage.tsx:30`

**现有任务执行链路**
- Webhook 入站创建任务并可触发 inline worker：`backend/src/modules/webhook/webhook.handlers.ts:891`
- Worker 轮询 DB 队列：`backend/src/worker.ts:47`（`WORKER_POLL_INTERVAL_MS` 默认 2000ms）
- “队列”本质是 `tasks` 表：`backend/src/modules/tasks/task.service.ts:1194` 用 `FOR UPDATE SKIP LOCKED` 领取 `status='queued'` 的一条并置为 `processing`

**延迟执行可行性**
- 现状：`Task` 模型没有 `run_at/not_before` 之类字段（`backend/prisma/schema.prisma:10`），`takeNextQueued()` 也没有按时间过滤，所以目前不支持真正的“定时/延迟”
- 可行（推荐最小改动思路）：在 `tasks` 增加 `not_before/run_at`(timestamptz) 并在领取 SQL 增加 `AND not_before <= now`；延迟精度≈轮询间隔（`backend/src/worker.ts:47`）
- 影响面：需要同步调整“queued 诊断/统计/列表”（否则未到期任务会被当作 queued 卡住）；若新增 `scheduled` 状态则需要前端同步扩展状态枚举与文案（`frontend/src/pages/TasksPage.tsx:30`）

如果你希望我下一步把“延迟执行”真正实现，你更偏向“最小改动（加时间字段，不新增状态）”还是“显式 scheduled 状态 + UI 展示”？
➜  hookcode git:(main) ✗ 
